(self.webpackChunkblock=self.webpackChunkblock||[]).push([["node_modules_ngx-quill___ivy_ngcc___fesm2015_ngx-quill_js-_f3b01"],{17663:(H,L,y)=>{y.r(L),y.d(L,{QUILL_CONFIG_TOKEN:()=>I,QuillEditorBase:()=>D,QuillEditorComponent:()=>M,QuillModule:()=>R,QuillService:()=>O,QuillViewComponent:()=>A,QuillViewHTMLComponent:()=>Q,defaultModules:()=>S});var b=y(62923),l=y(60562),j=y(70655),C=y(40455),x=y(51959);const P=[[["","quill-editor-toolbar",""]]],z=["[quill-editor-toolbar]"],S={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},w=(a,v)=>a||v||"html",I=new l.InjectionToken("config");let O=(()=>{class a{constructor(s){this.config=s,this.count=0,this.config||(this.config={modules:S})}getQuill(){return this.count++,!this.Quill&&1===this.count&&(this.$importPromise=new Promise(s=>(0,j.mG)(this,void 0,void 0,function*(){var c,d;const f=yield y.e("webpack_sharing_consume_default_quill_quill").then(y.t.bind(y,52514,23));this.Quill=f.default?f.default:f,null===(c=this.config.customOptions)||void 0===c||c.forEach(g=>{const e=this.Quill.import(g.import);e.whitelist=g.whitelist,this.Quill.register(e,!0,this.config.suppressGlobalRegisterWarning)}),null===(d=this.config.customModules)||void 0===d||d.forEach(({implementation:g,path:e})=>{this.Quill.register(e,g,this.config.suppressGlobalRegisterWarning)}),s(this.Quill)}))),this.$importPromise}}return a.\u0275fac=function(s){return new(s||a)(l.\u0275\u0275inject(I))},a.\u0275prov=(0,l.\u0275\u0275defineInjectable)({factory:function(){return new a((0,l.\u0275\u0275inject)(I))},token:a,providedIn:"root"}),a})(),D=(()=>{class a{constructor(s,c,d,f,g,e,i){this.elementRef=s,this.domSanitizer=c,this.doc=d,this.platformId=f,this.renderer=g,this.zone=e,this.service=i,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.onEditorCreated=new l.EventEmitter,this.onEditorChanged=new l.EventEmitter,this.onContentChanged=new l.EventEmitter,this.onSelectionChanged=new l.EventEmitter,this.onFocus=new l.EventEmitter,this.onBlur=new l.EventEmitter,this.disabled=!1,this.valueGetter=(t,n)=>{let r=n.querySelector(".ql-editor").innerHTML;("<p><br></p>"===r||"<div><br></div>"===r)&&(r=null);let o=r;const u=w(this.format,this.service.config.format);if("text"===u)o=t.getText();else if("object"===u)o=t.getContents();else if("json"===u)try{o=JSON.stringify(t.getContents())}catch{o=t.getText()}return o},this.valueSetter=(t,n)=>{const r=w(this.format,this.service.config.format);if("html"===r)return this.sanitize&&(n=this.domSanitizer.sanitize(l.SecurityContext.HTML,n)),t.clipboard.convert(n);if("json"===r)try{return JSON.parse(n)}catch{return[{insert:n}]}return n},this.selectionChangeHandler=(t,n,r)=>{const o=!t&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!o||this.zone.run(()=>{null===t?this.onBlur.emit({editor:this.quillEditor,source:r}):null===n&&this.onFocus.emit({editor:this.quillEditor,source:r}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:n,range:t,source:r}),o&&this.onModelTouched()})},this.textChangeHandler=(t,n,r)=>{const o=this.quillEditor.getText(),u=this.quillEditor.getContents();let m=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===m||"<div><br></div>"===m)&&(m=null);const p=this.trackChanges||this.service.config.trackChanges,h=("user"===r||p&&"all"===p)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!h||this.zone.run(()=>{h&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:u,delta:t,editor:this.quillEditor,html:m,oldDelta:n,source:r,text:o})})},this.editorChangeHandler=(t,n,r,o)=>{if(this.onEditorChanged.observers.length)if("text-change"===t){const u=this.quillEditor.getText(),m=this.quillEditor.getContents();let p=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===p||"<div><br></div>"===p)&&(p=null),this.zone.run(()=>{this.onEditorChanged.emit({content:m,delta:n,editor:this.quillEditor,event:t,html:p,oldDelta:r,source:o,text:u})})}else this.onEditorChanged.emit({editor:this.quillEditor,event:t,oldRange:r,range:n,source:o})}}static normalizeClassNames(s){return s.trim().split(" ").reduce((d,f)=>{const g=f.trim();return g&&d.push(g),d},[])}ngAfterViewInit(){return(0,j.mG)(this,void 0,void 0,function*(){if((0,b.isPlatformServer)(this.platformId))return;const s=yield this.service.getQuill();this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const c=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),d=Object.assign({},this.modules||this.service.config.modules);c?d.toolbar=c:void 0===d.toolbar&&(d.toolbar=S.toolbar);let f=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===f&&(f="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(r=>{this.renderer.setStyle(this.editorElem,r,this.styles[r])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(r=>{const o=s.import(r.import);o.whitelist=r.whitelist,s.register(o,!0)}),this.customModules.forEach(({implementation:r,path:o})=>{s.register(o,r)});let g=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;g||(g=this.service.config.bounds?this.service.config.bounds:this.doc.body);let e=this.debug;!e&&!1!==e&&this.service.config.debug&&(e=this.service.config.debug);let i=this.readOnly;!i&&!1!==this.readOnly&&(i=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let t=this.scrollingContainer;!t&&null!==this.scrollingContainer&&(t=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let n=this.formats;if(!n&&void 0===n&&(n=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{this.quillEditor=new s(this.editorElem,{bounds:g,debug:e,formats:n,modules:d,placeholder:f,readOnly:i,scrollingContainer:t,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")})}),this.content){const r=w(this.format,this.service.config.format);if("object"===r)this.quillEditor.setContents(this.content,"silent");else if("text"===r)this.quillEditor.setText(this.content,"silent");else if("json"===r)try{this.quillEditor.setContents(JSON.parse(this.content),"silent")}catch{this.quillEditor.setText(this.content,"silent")}else{this.sanitize&&(this.content=this.domSanitizer.sanitize(l.SecurityContext.HTML,this.content));const o=this.quillEditor.clipboard.convert(this.content);this.quillEditor.setContents(o,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.quillEditor.on("editor-change",this.editorChangeHandler),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.quillEditor.on("text-change",this.textChangeHandler),setTimeout(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})})}ngOnDestroy(){this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandler),this.quillEditor.off("editor-change",this.editorChangeHandler))}ngOnChanges(s){if(this.quillEditor){if(s.readOnly&&this.quillEditor.enable(!s.readOnly.currentValue),s.placeholder&&(this.quillEditor.root.dataset.placeholder=s.placeholder.currentValue),s.styles){const c=s.styles.currentValue,d=s.styles.previousValue;d&&Object.keys(d).forEach(f=>{this.renderer.removeStyle(this.editorElem,f)}),c&&Object.keys(c).forEach(f=>{this.renderer.setStyle(this.editorElem,f,this.styles[f])})}if(s.classes){const c=s.classes.currentValue,d=s.classes.previousValue;d&&this.removeClasses(d),c&&this.addClasses(c)}}}addClasses(s){a.normalizeClassNames(s).forEach(c=>{this.renderer.addClass(this.editorElem,c)})}removeClasses(s){a.normalizeClassNames(s).forEach(c=>{this.renderer.removeClass(this.editorElem,c)})}writeValue(s){this.content=s;const c=w(this.format,this.service.config.format);if(this.quillEditor){if(s)return void("text"===c?this.quillEditor.setText(s):this.quillEditor.setContents(this.valueSetter(this.quillEditor,this.content)));this.quillEditor.setText("")}}setDisabledState(s=this.disabled){this.disabled=s,this.quillEditor&&(s?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(s){this.onModelChange=s}registerOnTouched(s){this.onModelTouched=s}registerOnValidatorChange(s){this.onValidatorChanged=s}validate(){if(!this.quillEditor)return null;const s={};let c=!0;const d=this.quillEditor.getText(),f=this.trimOnValidation?d.trim().length:1===d.length&&0===d.trim().length?0:d.length-1;return this.minLength&&f&&f<this.minLength&&(s.minLengthError={given:f,minLength:this.minLength},c=!1),this.maxLength&&f>this.maxLength&&(s.maxLengthError={given:f,maxLength:this.maxLength},c=!1),this.required&&!f&&(s.requiredError={empty:!0},c=!1),c?null:s}}return a.\u0275fac=function(s){return new(s||a)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(C.DomSanitizer),l.\u0275\u0275directiveInject(b.DOCUMENT),l.\u0275\u0275directiveInject(l.PLATFORM_ID),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(O))},a.\u0275dir=l.\u0275\u0275defineDirective({type:a,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[l.\u0275\u0275NgOnChangesFeature]}),a})(),M=(()=>{class a extends D{constructor(s,c,d,f,g,e,i){super(s,c,d,f,g,e,i)}}return a.\u0275fac=function(s){return new(s||a)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(C.DomSanitizer),l.\u0275\u0275directiveInject(b.DOCUMENT),l.\u0275\u0275directiveInject(l.PLATFORM_ID),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(O))},a.\u0275cmp=l.\u0275\u0275defineComponent({type:a,selectors:[["quill-editor"]],features:[l.\u0275\u0275ProvidersFeature([{multi:!0,provide:x.NG_VALUE_ACCESSOR,useExisting:(0,l.forwardRef)(()=>a)},{multi:!0,provide:x.NG_VALIDATORS,useExisting:(0,l.forwardRef)(()=>a)}]),l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:z,decls:1,vars:0,template:function(s,c){1&s&&(l.\u0275\u0275projectionDef(P),l.\u0275\u0275projection(0))},encapsulation:2}),a})(),Q=(()=>{class a{constructor(s,c){this.sanitizer=s,this.service=c,this.innerHTML="",this.themeClass="ql-snow",this.content=""}ngOnChanges(s){s.theme?this.themeClass=`ql-${s.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),s.content&&(this.innerHTML=this.sanitizer.bypassSecurityTrustHtml(s.content.currentValue))}}return a.\u0275fac=function(s){return new(s||a)(l.\u0275\u0275directiveInject(C.DomSanitizer),l.\u0275\u0275directiveInject(O))},a.\u0275cmp=l.\u0275\u0275defineComponent({type:a,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme"},features:[l.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(s,c){1&s&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275element(1,"div",1),l.\u0275\u0275elementEnd()),2&s&&(l.\u0275\u0275property("ngClass",c.themeClass),l.\u0275\u0275advance(1),l.\u0275\u0275property("innerHTML",c.innerHTML,l.\u0275\u0275sanitizeHtml))},dependencies:[b.NgClass],styles:["\n.ql-container.ngx-quill-view-html {\n  border: 0;\n}\n"],encapsulation:2}),a})(),A=(()=>{class a{constructor(s,c,d,f,g,e){this.elementRef=s,this.renderer=c,this.zone=d,this.service=f,this.domSanitizer=g,this.platformId=e,this.sanitize=!1,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.valueSetter=(i,t)=>{const n=w(this.format,this.service.config.format);let r=t;if("text"===n)i.setText(r);else{if("html"===n)this.sanitize&&(t=this.domSanitizer.sanitize(l.SecurityContext.HTML,t)),r=i.clipboard.convert(t);else if("json"===n)try{r=JSON.parse(t)}catch{r=[{insert:t}]}i.setContents(r)}}}ngOnChanges(s){!this.quillEditor||s.content&&this.valueSetter(this.quillEditor,s.content.currentValue)}ngAfterViewInit(){return(0,j.mG)(this,void 0,void 0,function*(){if((0,b.isPlatformServer)(this.platformId))return;const s=yield this.service.getQuill(),c=Object.assign({},this.modules||this.service.config.modules);c.toolbar=!1,this.customOptions.forEach(e=>{const i=s.import(e.import);i.whitelist=e.whitelist,s.register(i,!0)}),this.customModules.forEach(({implementation:e,path:i})=>{s.register(i,e)});let d=this.debug;!d&&!1!==d&&this.service.config.debug&&(d=this.service.config.debug);let f=this.formats;!f&&void 0===f&&(f=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const g=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.elementRef.nativeElement.insertAdjacentHTML("afterbegin",this.preserveWhitespace?"<pre quill-view-element></pre>":"<div quill-view-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new s(this.editorElem,{debug:d,formats:f,modules:c,readOnly:!0,strict:this.strict,theme:g})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content)})}}return a.\u0275fac=function(s){return new(s||a)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(O),l.\u0275\u0275directiveInject(C.DomSanitizer),l.\u0275\u0275directiveInject(l.PLATFORM_ID))},a.\u0275cmp=l.\u0275\u0275defineComponent({type:a,selectors:[["quill-view"]],inputs:{sanitize:"sanitize",strict:"strict",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace",format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",content:"content"},features:[l.\u0275\u0275NgOnChangesFeature],decls:0,vars:0,template:function(s,c){},styles:["\n.ql-container.ngx-quill-view {\n  border: 0;\n}\n"],encapsulation:2}),a})(),R=(()=>{class a{static forRoot(s){return{ngModule:a,providers:[{provide:I,useValue:s}]}}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=l.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=l.\u0275\u0275defineInjector({providers:[O],imports:[b.CommonModule]}),a})()},70655:(H,L,y)=>{function j(e,i,t,n){var u,r=arguments.length,o=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,i,t,n);else for(var m=e.length-1;m>=0;m--)(u=e[m])&&(o=(r<3?u(o):r>3?u(i,t,o):u(i,t))||o);return r>3&&o&&Object.defineProperty(i,t,o),o}function C(e,i){return function(t,n){i(t,n,e)}}function x(e,i,t,n){return new(t||(t=Promise))(function(o,u){function m(_){try{h(n.next(_))}catch(T){u(T)}}function p(_){try{h(n.throw(_))}catch(T){u(T)}}function h(_){_.done?o(_.value):function r(o){return o instanceof t?o:new t(function(u){u(o)})}(_.value).then(m,p)}h((n=n.apply(e,i||[])).next())})}function M(e){return this instanceof M?(this.v=e,this):new M(e)}function Q(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(e,i||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(E){n[E]&&(r[E]=function(q){return new Promise(function(V,G){o.push([E,q,V,G])>1||m(E,q)})})}function m(E,q){try{!function p(E){E.value instanceof M?Promise.resolve(E.value.v).then(h,_):T(o[0][2],E)}(n[E](q))}catch(V){T(o[0][3],V)}}function h(E){m("next",E)}function _(E){m("throw",E)}function T(E,q){E(q),o.shift(),o.length&&m(o[0][0],o[0][1])}}function R(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function S(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(u){return new Promise(function(m,p){!function r(o,u,m,p){Promise.resolve(p).then(function(h){o({value:h,done:m})},u)}(m,p,(u=e[o](u)).done,u.value)})}}}y.d(L,{FC:()=>Q,KL:()=>R,fM:()=>C,gn:()=>j,mG:()=>x,qq:()=>M})}}]);