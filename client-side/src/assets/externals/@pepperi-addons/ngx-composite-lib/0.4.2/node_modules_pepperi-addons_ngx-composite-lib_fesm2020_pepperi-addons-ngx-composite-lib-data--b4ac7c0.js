(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([["node_modules_pepperi-addons_ngx-composite-lib_fesm2020_pepperi-addons-ngx-composite-lib-data--b4ac7c0"],{86676:(ee,u,o)=>{o.r(u),o.d(u,{DataViewBuilderComponent:()=>J,PepDataViewBuilderModule:()=>q});var e=o(60562),d=o(62923),c=o(61501),f=o(35660),b=o(23445),h=o(45757),m=o(36378),D=o(51403),v=o(51619),C=o(12372),w=o(749),x=o(84836),s=o(56604),y=o(47593),M=o(48960),_=o(14768);const T=["separatorTitleModalTemplate"];function E(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function P(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("cdkDropListDropped",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onDropField(a))}),e.\u0275\u0275elementStart(1,"mat-icon",6),e.\u0275\u0275element(2,"pep-icon",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",8),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",t.emptyDropAreaId),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,2,"DATA_VIEW_BUILDER.EMPTY_DROP_AREA_TEXT")," ")}}function V(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function I(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",16),e.\u0275\u0275listener("buttonClick",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2).index,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.addSeparator(a+1))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}2&n&&e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(1,1,"DATA_VIEW_BUILDER.ADD_SEPARATOR"))}function O(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,I,2,3,"pep-button",15),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAddSeparator)}}const F=function(n){return{"separator-container":n}},S=function(n){return{menuField:n}};function A(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275listener("cdkDragStarted",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onDragStart(a))})("cdkDragEnded",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onDragEnd(a))}),e.\u0275\u0275template(2,V,1,0,"ng-container",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,O,2,1,"div",13),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=l.$implicit,i=e.\u0275\u0275nextContext(2),a=e.\u0275\u0275reference(6);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,F,""===t.FieldID)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(6,S,t)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.isGrabbing)}}const L=function(n){return{"no-row-gap":n}};function k(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275listener("cdkDropListDropped",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onDropField(a))}),e.\u0275\u0275template(1,A,4,8,"ng-container",10),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",t.mappedFieldsId)("ngClass",e.\u0275\u0275pureFunction1(4,L,!t.isGrabbing))("cdkDropListData",t.fields),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.fields)}}function B(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function R(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"pep-textbox",20),e.\u0275\u0275elementStart(2,"pep-textbox",21),e.\u0275\u0275listener("valueChange",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().menuField,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onTitleChanged(a,r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"pep-button",22),e.\u0275\u0275listener("buttonClick",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().menuField,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onDeleteMappedField(a,r))}),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext().menuField,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("label",i.itemKeyLabel)("value",t.FieldID)("disabled",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",i.itemTitleLabel)("hint","("+(i.availableFieldsTitles.get(t.FieldID)||"")+")")("value",t.Title),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(4,7,"ACTIONS.DELETE"))}}function K(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",24)(2,"span",25),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",26)(5,"pep-button",27),e.\u0275\u0275listener("buttonClick",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().menuField,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onEditSeparatorField(a,r))}),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"pep-button",28),e.\u0275\u0275listener("buttonClick",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().menuField,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onDeleteMappedField(a,r))}),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext().menuField;e.\u0275\u0275advance(2),e.\u0275\u0275property("title",t.Title),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.Title),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(6,4,"ACTIONS.EDIT")),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(8,6,"ACTIONS.DELETE"))}}function U(n,l){if(1&n&&(e.\u0275\u0275template(0,B,1,0,"ng-container",0),e.\u0275\u0275template(1,R,5,9,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,K,9,8,"ng-template",null,18,e.\u0275\u0275templateRefExtractor)),2&n){const t=l.menuField,i=e.\u0275\u0275reference(2),a=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",""!==t.FieldID)("ngIfThen",i)("ngIfElse",a)}}function N(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-dialog",25),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementContainerStart(2,29),e.\u0275\u0275elementStart(3,"pep-textbox",30,31),e.\u0275\u0275listener("valueChange",function(a){const p=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(p.value=a)}),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(6,32),e.\u0275\u0275elementStart(7,"div",33)(8,"button",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeDialog())}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275reference(4),r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.setDialogValue(a.value))}),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit;e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,5,"DATA_VIEW_BUILDER.SEPARATOR_TITLE")),e.\u0275\u0275advance(3),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(5,7,"DATA_VIEW_BUILDER.ADD_A_TITLE"))("value",t.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,9,"Cancel")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,11,"Save")," ")}}function W(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function j(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"DATA_VIEW_BUILDER.TYPE_NOT_SUPPORTED")," "))}function G(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("(",t.builderTitleHint,")")}}const H=function(){return[]};function z(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"menu-data-view",16),e.\u0275\u0275listener("fieldsChange",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.onFieldsChanged(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("fields",(null==t.dataView?null:t.dataView.Fields)||e.\u0275\u0275pureFunction0(7,H))("availableFieldsTitles",t.availableFieldsTitles)("emptyDropAreaId",t.emptyDropAreaId)("mappedFieldsId",t.mappedFieldsId)("showAddSeparator",t.showAddSeparator)("itemKeyLabel",t.itemKeyLabel)("itemTitleLabel",t.itemTitleLabel)}}const $=function(){return["emptyDropArea","mappedFields"]};function Q(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"pep-draggable-items",8),e.\u0275\u0275listener("itemDragStarted",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onDragStart(a))})("itemDragEnded",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onDragEnd(a))}),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",9)(5,"div",10)(6,"span",11),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,G,2,1,"span",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",13),e.\u0275\u0275template(10,z,2,8,"ng-container",14),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("items",t.availableFields)("title",e.\u0275\u0275pipeBind1(3,9,"DATA_VIEW_BUILDER.AVAILABLE_FIELDS"))("showSearch",!0)("dropAreaIds",e.\u0275\u0275pureFunction0(11,$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("title",t.builderTitle+" "+(t.builderTitleHint?"("+t.builderTitleHint+")":"")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.builderTitle,"\xa0"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.builderTitleHint),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","menu")}}function Y(n,l){if(1&n&&e.\u0275\u0275template(0,Q,11,12,"div",5),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.dataView&&t.availableFields)}}let g=(()=>{class n{constructor(){this._isGrabbingSubject=new y.BehaviorSubject(!1)}get isGrabbingChange$(){return this._isGrabbingSubject.asObservable().pipe((0,M.distinctUntilChanged)())}changeCursorOnDragStart(){document.body.classList.add("inheritCursors"),document.body.style.cursor="grabbing",this._isGrabbingSubject.next(!0)}changeCursorOnDragEnd(){document.body.classList.remove("inheritCursors"),document.body.style.cursor="unset",this._isGrabbingSubject.next(!1)}onDragStart(t){this.changeCursorOnDragStart()}onDragEnd(t){this.changeCursorOnDragEnd()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X=(()=>{class n{constructor(t,i,a){this.translate=t,this.dialogService=i,this.dataViewBuilderService=a,this.fields=[],this.availableFieldsTitles=new Map,this.emptyDropAreaId="",this.mappedFieldsId="",this.showAddSeparator=!0,this.itemKeyLabel="",this.itemTitleLabel="",this.fieldsChange=new e.EventEmitter,this.isGrabbing=!1,this.dialogRef=null,this.dataViewBuilderService.isGrabbingChange$.subscribe(r=>{this.isGrabbing=r})}addNewField(t,i){this.spliceMappedFields(i,0,{FieldID:t.data.key,Title:t.title})}spliceMappedFields(t,i,a){a?this.fields.splice(t,i,a):this.fields.splice(t,i),this.notifyFieldsChange()}changeTitle(t,i){t.Title=i,this.notifyFieldsChange()}notifyFieldsChange(){this.fieldsChange.emit(this.fields)}ngOnInit(){""==this.itemKeyLabel&&this.translate.get("DATA_VIEW_BUILDER.MENU_ITEM_KEY_TITLE").toPromise().then(t=>{this.itemKeyLabel=t}),""==this.itemTitleLabel&&this.translate.get("DATA_VIEW_BUILDER.MENU_ITEM_VALUE_TITLE").toPromise().then(t=>{this.itemTitleLabel=t})}addSeparator(t){this.spliceMappedFields(t,0,{FieldID:"",Title:""})}onDragStart(t){this.dataViewBuilderService.onDragStart(t)}onDragEnd(t){this.dataViewBuilderService.onDragEnd(t)}onDropField(t){t.previousContainer===t.container?((0,c.moveItemInArray)(t.container.data,t.previousIndex,t.currentIndex),this.notifyFieldsChange()):this.addNewField(t.previousContainer.data[t.previousIndex],"emptyDropArea"===t.container.id?this.fields.length:t.currentIndex)}onTitleChanged(t,i){this.changeTitle(i,t)}onDeleteMappedField(t,i){const a=this.fields.findIndex(r=>r===i);a>-1&&this.spliceMappedFields(a,1)}onEditSeparatorField(t,i){this.dialogRef=this.dialogService.openDialog(this.separatorTitleModalTemplate,{value:i.Title}),this.dialogRef.afterClosed().subscribe(a=>{void 0!==a&&this.changeTitle(i,a)})}setDialogValue(t){this.closeDialog(t)}closeDialog(t){this.dialogRef?.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.TranslateService),e.\u0275\u0275directiveInject(m.PepDialogService),e.\u0275\u0275directiveInject(g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["menu-data-view"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(T,5,e.TemplateRef),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.separatorTitleModalTemplate=a.first)}},inputs:{fields:"fields",availableFieldsTitles:"availableFieldsTitles",emptyDropAreaId:"emptyDropAreaId",mappedFieldsId:"mappedFieldsId",showAddSeparator:"showAddSeparator",itemKeyLabel:"itemKeyLabel",itemTitleLabel:"itemTitleLabel"},outputs:{fieldsChange:"fieldsChange"},decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["emptyTemplate",""],["notEmptyTemplate",""],["mappedFieldTemplate",""],["separatorTitleModalTemplate",""],["cdkDropList","",1,"drop-field-here-area",3,"id","cdkDropListDropped"],[1,"pep-spacing-element"],["name","arrow_down_alt"],[1,"body-sm","ellipsis"],["cdkDropList","",1,"mapped-fields-area",3,"id","ngClass","cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"mapped-field-container",3,"ngClass","cdkDragStarted","cdkDragEnded"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","add-separator-container",4,"ngIf"],[1,"add-separator-container"],["class","add-separator","styleType","regular","sizeType","sm","iconName","number_plus",3,"value","buttonClick",4,"ngIf"],["styleType","regular","sizeType","sm","iconName","number_plus",1,"add-separator",3,"value","buttonClick"],["menuItemTemplate",""],["separatorTemplate",""],[1,"fields-wrapper"],[3,"label","value","disabled"],[3,"label","hint","value","valueChange"],["iconName","system_bin",1,"center-button",3,"title","buttonClick"],[1,"separator-wrapper"],[1,"pep-spacing-element","title","title-md","color-dimmed"],[3,"title"],[1,"list-actions"],["iconName","system_edit","sizeType","xs","styleType","regular",3,"title","buttonClick"],["iconName","system_bin","sizeType","xs","styleType","regular",3,"title","buttonClick"],["pep-dialog-content",""],[3,"label","value","valueChange"],["txt",""],["pep-dialog-actions",""],[1,"pep-spacing-element-negative"],["mat-button","",1,"pep-spacing-element","pep-button","md","weak",3,"click"],["mat-button","",1,"pep-spacing-element","pep-button","md","strong",3,"click"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,E,1,0,"ng-container",0),e.\u0275\u0275template(1,P,6,4,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,k,2,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,U,5,3,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(7,N,14,13,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&t){const a=e.\u0275\u0275reference(2),r=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",null===i.fields||0===i.fields.length)("ngIfThen",a)("ngIfElse",r)}},dependencies:[d.NgClass,d.NgForOf,d.NgIf,d.NgTemplateOutlet,c.CdkDropList,c.CdkDrag,f.MatIcon,h.PepButtonComponent,m.PepDialogComponent,s.PepIconComponent,C.PepTextboxComponent,_.TranslatePipe],styles:['html[_ngcontent-%COMP%]   body.inheritCursors[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:inherit!important}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]{max-width:600px;display:flex;justify-content:center;align-items:center;border-radius:var(--pep-border-radius-md, .25rem)}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]:not(.separator-container){padding-inline:var(--pep-spacing-lg, 1rem)}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]:not(.separator-container){gap:calc(var(--pep-spacing-lg, 1rem) * 2);background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%))}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr 1fr auto;gap:.5rem;padding-top:.5rem}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]   .center-button[_ngcontent-%COMP%]{margin-top:var(--pep-form-field-title-height, 1.5rem)}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]   .separator-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr auto;padding-bottom:var(--pep-spacing-xs, .25rem);border-bottom:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%))}.cdk-drag-preview.mapped-field-container[_ngcontent-%COMP%]   .separator-wrapper[_ngcontent-%COMP%]   .list-actions[_ngcontent-%COMP%]{display:flex;gap:var(--pep-spacing-xs, .25rem)}.drop-field-here-area[_ngcontent-%COMP%]{min-height:5rem;max-width:600px;display:flex;justify-content:center;align-items:center;border-radius:var(--pep-border-radius-md, .25rem);background:hsla(var(--pep-color-weak-h, 0),var(--pep-color-weak-s, 0%),var(--pep-color-weak-l, 10%),.12);position:relative}.drop-field-here-area[_ngcontent-%COMP%]:not(.separator-container){padding-inline:var(--pep-spacing-lg, 1rem)}.drop-field-here-area[_ngcontent-%COMP%]:after{z-index:0;content:"";transition:all .25s;display:block;position:absolute;inset:0;border-radius:inherit;border:1px dashed hsl(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),calc(var(--pep-color-system-primary-l, 10%) + 30%))}.drop-field-here-area.cdk-drop-list-dragging[_ngcontent-%COMP%]{box-shadow:0 0 0 var(--pep-spacing-xs, .25rem) hsla(var(--pep-color-text-link-h, 207),var(--pep-color-text-link-s, 76%),var(--pep-color-text-link-l, 37%),.5)}.drop-field-here-area.cdk-drop-list-dragging[_ngcontent-%COMP%]:hover{background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.16);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 20%));box-shadow:0 0 0 var(--pep-spacing-xs, .25rem) hsla(var(--pep-color-text-link-h, 207),var(--pep-color-text-link-s, 76%),var(--pep-color-text-link-l, 37%),.5)}.drop-field-here-area.cdk-drop-list-dragging[_ngcontent-%COMP%]     .placeholder-item{display:none}.mapped-fields-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:var(--pep-spacing-lg, 1rem)}.mapped-fields-area[_ngcontent-%COMP%]:not(.no-row-gap){row-gap:var(--pep-spacing-lg, 1rem)}.mapped-fields-area.cdk-drop-list-dragging[_ngcontent-%COMP%]     .placeholder-item{max-width:600px;display:flex;justify-content:center;align-items:center;border-radius:var(--pep-border-radius-md, .25rem);background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%));box-shadow:0 0 0 var(--pep-spacing-xs, .25rem) hsla(var(--pep-color-text-link-h, 207),var(--pep-color-text-link-s, 76%),var(--pep-color-text-link-l, 37%),.5);height:2.5rem}.mapped-fields-area.cdk-drop-list-dragging[_ngcontent-%COMP%]     .placeholder-item:not(.separator-container){padding-inline:var(--pep-spacing-lg, 1rem)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]{cursor:grab;max-width:600px;display:flex;justify-content:center;align-items:center;border-radius:var(--pep-border-radius-md, .25rem)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]:not(.separator-container){padding-inline:var(--pep-spacing-lg, 1rem)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]:not(.separator-container){gap:calc(var(--pep-spacing-lg, 1rem) * 2);background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%))}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr 1fr auto;gap:.5rem;padding-top:.5rem}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]   .center-button[_ngcontent-%COMP%]{margin-top:var(--pep-form-field-title-height, 1.5rem)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]   .separator-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr auto;padding-bottom:var(--pep-spacing-xs, .25rem);border-bottom:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%))}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container[_ngcontent-%COMP%]   .separator-wrapper[_ngcontent-%COMP%]   .list-actions[_ngcontent-%COMP%]{display:flex;gap:var(--pep-spacing-xs, .25rem)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container.cdk-drag-placeholder[_ngcontent-%COMP%]{box-shadow:0 0 0 var(--pep-spacing-xs, .25rem) hsla(var(--pep-color-text-link-h, 207),var(--pep-color-text-link-s, 76%),var(--pep-color-text-link-l, 37%),.5)}.mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container.cdk-drag-placeholder[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%], .mapped-fields-area[_ngcontent-%COMP%]   .mapped-field-container.cdk-drag-placeholder[_ngcontent-%COMP%]   .separator-wrapper[_ngcontent-%COMP%]{opacity:0}.mapped-fields-area[_ngcontent-%COMP%]   .add-separator-container[_ngcontent-%COMP%]{max-width:600px;display:flex;justify-content:center;align-items:center;border-radius:var(--pep-border-radius-md, .25rem);height:var(--pep-spacing-lg, 1rem)}.mapped-fields-area[_ngcontent-%COMP%]   .add-separator-container[_ngcontent-%COMP%]:not(.separator-container){padding-inline:var(--pep-spacing-lg, 1rem)}.mapped-fields-area[_ngcontent-%COMP%]   .add-separator-container[_ngcontent-%COMP%]   .add-separator[_ngcontent-%COMP%]{position:relative;display:none}.mapped-fields-area[_ngcontent-%COMP%]   .add-separator-container[_ngcontent-%COMP%]:hover   .add-separator[_ngcontent-%COMP%]{display:block}']}),n})(),J=(()=>{class n{constructor(t){this.dataViewBuilderService=t,this.builderTitle="",this.builderTitleHint="",this.showAddSeparator=!0,this.itemKeyLabel="",this.itemTitleLabel="",this._availableFields=[],this.dataViewChange=new e.EventEmitter,this.type="not-supported",this.emptyDropAreaId="emptyDropArea",this.mappedFieldsId="mappedFields",this.availableFieldsTitles=new Map}set availableFields(t){this._availableFields=t,this.setTitlesMap()}get availableFields(){return this._availableFields}set dataView(t){this._dataView=t,this.setType(),this.refreshAvailableFields()}get dataView(){return this._dataView}setType(){this.type="Menu"===this._dataView.Type?"menu":"Grid"===this._dataView.Type?"list":"Card"===this._dataView.Type||"Form"===this._dataView.Type||"Large"===this._dataView.Type||"Line"===this._dataView.Type?"card":"not-supported"}setAvailableFieldPermission(t,i){const a=this.availableFields.find(r=>r.data.key===t);a&&(a.disabled=i)}refreshAvailableFields(){if(this.availableFields.forEach(t=>t.disabled=!1),this.dataView&&this.dataView.Fields)for(let t=0;t<this.dataView.Fields.length;t++)this.setAvailableFieldPermission(this.dataView.Fields[t].FieldID,!0)}setTitlesMap(){if(this.availableFieldsTitles.clear(),this.availableFields?.length>0)for(let t=0;t<this.availableFields.length;t++){const i=this.availableFields[t];i?.data?.key.length>0&&this.availableFieldsTitles.set(i.data.key,i.title)}}notifyDataViewChange(){this.dataViewChange.emit(this.dataView)}ngOnInit(){}onDragStart(t){this.dataViewBuilderService.onDragStart(t)}onDragEnd(t){this.dataViewBuilderService.onDragEnd(t)}onFieldsChanged(t){this.dataView.Fields=t,this.refreshAvailableFields(),this.notifyDataViewChange()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["pep-data-view-builder"]],inputs:{builderTitle:"builderTitle",builderTitleHint:"builderTitleHint",showAddSeparator:"showAddSeparator",itemKeyLabel:"itemKeyLabel",itemTitleLabel:"itemTitleLabel",availableFields:"availableFields",dataView:"dataView"},outputs:{dataViewChange:"dataViewChange"},decls:7,vars:3,consts:[["pep-main-area",""],[4,"ngIf","ngIfThen","ngIfElse"],["notSupportedTemplate",""],["supportedTemplate",""],[1,"body-sm","ellipsis"],["class","mapped-fields-container",4,"ngIf"],[1,"mapped-fields-container"],[1,"available-fields-side-area"],["titleType","with-bottom-border","titleSizeType","md","itemPlaceholderType","weak",3,"items","title","showSearch","dropAreaIds","itemDragStarted","itemDragEnded"],["pep-main-area","",1,"mapped-fields-main-area"],[1,"mapped-fields-top-area","pep-border-bottom",3,"title"],[1,"title-md"],["class","color-dimmed",4,"ngIf"],[1,"data-view-by-type-area",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"color-dimmed"],[3,"fields","availableFieldsTitles","emptyDropAreaId","mappedFieldsId","showAddSeparator","itemKeyLabel","itemTitleLabel","fieldsChange"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"pep-page-layout"),e.\u0275\u0275elementContainerStart(1,0),e.\u0275\u0275template(2,W,1,0,"ng-container",1),e.\u0275\u0275template(3,j,3,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,Y,1,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275reference(4),r=e.\u0275\u0275reference(6);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","not-supported"===i.type)("ngIfThen",a)("ngIfElse",r)}},dependencies:[d.NgIf,d.NgSwitch,d.NgSwitchCase,v.PepPageLayoutComponent,x.PepDraggableItemsComponent,X,_.TranslatePipe],styles:['.mapped-fields-container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-columns:auto 1fr;grid-template-areas:"side-area    main-area"}.mapped-fields-container[_ngcontent-%COMP%]   .available-fields-side-area[_ngcontent-%COMP%]{grid-area:side-area;width:240px;max-width:240px;overflow:auto;height:inherit;padding-top:var(--pep-spacing-2xl, 2rem);margin-inline-end:calc(var(--pep-spacing-lg, 1rem) * 2)}.mapped-fields-container[_ngcontent-%COMP%]   .mapped-fields-main-area[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;grid-area:main-area;padding-top:var(--pep-spacing-2xl, 2rem);overflow:auto;height:inherit}.mapped-fields-container[_ngcontent-%COMP%]   .mapped-fields-main-area[_ngcontent-%COMP%]   .mapped-fields-top-area[_ngcontent-%COMP%]{height:var(--pep-top-bar-field-height, 2.5rem);display:flex;align-items:center}.mapped-fields-container[_ngcontent-%COMP%]   .mapped-fields-main-area[_ngcontent-%COMP%]   .data-view-by-type-area[_ngcontent-%COMP%]{overflow:auto;height:inherit;padding-top:var(--pep-spacing-lg, 1rem);padding-bottom:var(--pep-spacing-lg, 1rem);padding-inline:var(--pep-spacing-xs, .25rem)}']}),n})();const Z=[s.pepIconSystemClose,s.pepIconArrowDownAlt,s.pepIconSystemBin,s.pepIconNumberPlus];let q=(()=>{class n{constructor(t){this.pepIconRegistry=t,this.pepIconRegistry.registerIcons(Z)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(s.PepIconRegistry))},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[g],imports:[d.CommonModule,c.DragDropModule,f.MatIconModule,b.PepNgxLibModule,h.PepButtonModule,m.PepDialogModule,s.PepIconModule,D.PepMenuModule,v.PepPageLayoutModule,C.PepTextboxModule,w.PepTopBarModule,x.PepDraggableItemsModule]}),n})()}}]);