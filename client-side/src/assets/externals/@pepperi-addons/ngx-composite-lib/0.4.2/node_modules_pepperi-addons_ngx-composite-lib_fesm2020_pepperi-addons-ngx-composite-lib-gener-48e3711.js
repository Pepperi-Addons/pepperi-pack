(self.webpackChunkfile_4817f4fe_9ff6_435e_9415_96b1142675eb=self.webpackChunkfile_4817f4fe_9ff6_435e_9415_96b1142675eb||[]).push([["node_modules_pepperi-addons_ngx-composite-lib_fesm2020_pepperi-addons-ngx-composite-lib-gener-48e3711"],{79400:(M,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DataViewRowModes=d.HorizontalAlignments=d.VerticalAlignments=d.ResoursePrefixes=d.ResourceTypes=d.DataViewFieldTypes=d.DataViewScreenSizes=d.DataViewTypes=void 0,d.DataViewTypes=["Grid","Form","Card","Large","Line","Map","Menu","Configuration","CardsGrid","Details"],d.DataViewScreenSizes=["Tablet","Phablet","Landscape"],d.DataViewFieldTypes={None:0,TextBox:1,LimitedLengthTextBox:2,TextArea:3,TextHeader:4,Date:5,DateAndTime:6,NumberInteger:7,NumberReal:8,Currency:9,Boolean:10,ComboBox:11,MultiTickBox:12,Separator:13,Address:14,Percentage:15,EmptyComboBox:16,InternalLink:17,Email:18,LimitedDate:19,Image:20,MultiTickBoxToComboBox:21,EmptyMultiTickBox:22,Totals:23,Attachment:24,Signature:25,Link:26,ImageURL:27,NumberIntegerQuantitySelector:28,NumberRealQuantitySelector:29,NumberIntegerForMatrix:30,NumberRealForMatrix:31,Images:32,Indicators:33,CalculatedReal:34,CalculatedInt:35,CalculatedString:36,CalculatedDate:37,CalculatedBool:38,MapDataDropDown:39,MapDataReal:40,MapDataString:41,MapDataInt:42,Sum:43,Phone:44,UrlForApi:45,ManyToManyUrlForApi:46,ReferenceType:47,GuidReferenceType:48,Button:49,UIControlFieldType_InternalPage:50,Duration:51,ListOfObjects:52,Package:53,RelatedObjectsCards:54,BooleanText:55,RichTextHTML:56},d.ResourceTypes=["None","accounts","transactions","activities","all_activities","items","users","transaction_lines","contacts","lists","catalogs","types"],d.ResoursePrefixes=["GA","OA","CP","AT","GL","CA"],d.VerticalAlignments={Stretch:0,Top:1,Bottom:2,Center:3},d.HorizontalAlignments={Stretch:0,Left:1,Right:2,Center:3},d.DataViewRowModes={Fixed:0,MatchParent:1}},45633:(M,d,p)=>{p.r(d),p.d(d,{GenericListComponent:()=>he,PepGenericListModule:()=>Ce,PepGenericListService:()=>x});var m=p(15861),e=p(60562),f=p(62923),u=p(88955),S=p(19339),g=p(61513),I=p(79400),C=p(14768),y=p(13462),v=p(49878),h=p(90446),L=p(18830),b=p(87355),E=p(2574),O=p(77018),T=p(92362),w=p(13645),D=p(14139),F=p(47299),A=p(29139);const R=["search"],G=["smartFiltersComponent"],B=["pepListContainer"];function z(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function V(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275template(1,z,1,0,"ng-container",11),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function U(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",12),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description)}}function k(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function j(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,k,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function W(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function N(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,W,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function K(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function Z(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,K,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}const H=function(n,l){return{"add-padding":n,"with-smart-filters":l}};function Q(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",6)(1,"div",7),e.\u0275\u0275template(2,V,2,1,"div",8),e.\u0275\u0275template(3,U,3,1,"ng-container",9),e.\u0275\u0275template(4,j,2,1,"ng-container",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,N,2,1,"ng-container",9),e.\u0275\u0275template(6,Z,2,1,"ng-container",9),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(6,H,t.addPadding,t.showSmartFilter)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showTopBar),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.description),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.breadCrumbsItems.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showSmartFilter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.onLoad)}}function $(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function Y(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0,17),e.\u0275\u0275template(1,$,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function X(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function J(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0,18),e.\u0275\u0275template(1,X,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function q(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0,18),e.\u0275\u0275elementStart(1,"div",12),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description)}}function ee(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function te(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0,18),e.\u0275\u0275template(1,ee,1,0,"ng-container",11),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function ne(n,l){1&n&&e.\u0275\u0275elementContainer(0)}function ie(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,ne,1,0,"ng-container",11),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function ae(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"pep-page-layout",13),e.\u0275\u0275template(1,Y,2,1,"ng-container",14),e.\u0275\u0275template(2,J,2,1,"ng-container",15),e.\u0275\u0275template(3,q,3,1,"ng-container",15),e.\u0275\u0275template(4,te,2,1,"ng-container",15),e.\u0275\u0275template(5,ie,2,1,"div",16),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("addPadding",t.addPadding)("showShadow",t.showSmartFilter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showSmartFilter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showTopBar),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.description),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.breadCrumbsItems.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.onLoad)}}function re(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-list-actions",26),e.\u0275\u0275listener("actionClick",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onActionItemClicked(a))}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("sizeType",t.inline?"sm":"md")("actions",t.menuActions)}}function se(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-search",27,28),e.\u0275\u0275listener("search",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onSearchChanged(a))}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("value",t.searchString)("sizeType",t.inline?"sm":"md")}}function oe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"pep-top-bar",20)(1,"div",21),e.\u0275\u0275projection(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",22),e.\u0275\u0275projection(4,1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,re,1,2,"pep-list-actions",23),e.\u0275\u0275element(6,"pep-list-total",24),e.\u0275\u0275template(7,se,2,2,"pep-search",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.title)("inline",t.inline),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.menuActions.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("sizeType",t.inline?"sm":"md")("totalRows",t.totalRowCount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showSearch)}}const le=function(n){return{"smart-filter-area":n}};function pe(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-side-bar",29,30)(2,"pep-smart-filters",31,32),e.\u0275\u0275listener("filtersChange",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onFiltersChange(a))}),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,le,t.inline)),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",t.smartFilters.title)("fields",t.smartFilters.fields)("filters",t.smartFilters.data)}}function ce(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-bread-crumbs",33),e.\u0275\u0275listener("itemClick",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onBreadCrumbItemClick(a))}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("items",t.breadCrumbsItems)("addSpacing",!0)("displayType","items")}}function de(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",36)(1,"div",37),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",38),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"pep-icon",39)(6,"pep-icon",40),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.listInputs.emptyState.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.listInputs.emptyState.description)}}function _e(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275elementContainer(1,null,42),e.\u0275\u0275elementEnd())}function me(n,l){if(1&n&&(e.\u0275\u0275template(0,de,7,2,"div",34),e.\u0275\u0275template(1,_e,3,0,"div",35)),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.showEmptyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.showEmptyState)}}const ue=[[["","left-buttons",""]],[["","right-buttons",""]]],ge=["[left-buttons]","[right-buttons]"];let x=(()=>{class n{constructor(t,i){this._translate=t,this._queryBuilderService=i}hasProperty(t,i){return Object.prototype.hasOwnProperty.call(t,i)}getListViewType(t){switch(t){case"Grid":default:return"table";case"Card":return"cards";case"Line":return"lines"}}convertToPepRowData(t,i,a){const r=new u.PepRowData;let o;if(this.hasProperty(t,"fields")&&"object"==typeof t.fields?(o=t.fields,!1===t.isEditable&&(r.IsEditable=!1),!1===t.isSelectableForActions&&(r.IsSelectableForActions=!1),t.isEditable&&t.isSelectableForActions&&t.isSelected&&(r.IsSelected=!0)):o=t,r.UUID=o[a]||void 0,r.Fields=[],i?.Fields&&i.Columns)for(let s=0;s<i.Fields.length;s++){const c=i.Fields[s];r.Fields.push({ApiName:c.FieldID,Title:c.Title?this._translate.instant(c.Title):"",XAlignment:1,FormattedValue:(o[c.FieldID]||"").toString(),Value:(o[c.FieldID]||"").toString(),ColumnWidth:i.Columns[s]?.Width||void 0,AdditionalValue:"",OptionalValues:c.OptionalValues||[],FieldType:I.DataViewFieldTypes[c.Type],ReadOnly:c.ReadOnly,Enabled:!c.ReadOnly})}return r}convertToUiControlField(t){return{ApiName:t.ApiName,FieldType:t.FieldType,Title:t.Title,ReadOnly:t.ReadOnlyField,ColumnWidth:t.ColumnWidth,ColumnWidthType:1,Layout:{X:t.Layout.X,Y:t.Layout.Y,Width:t.Layout.Width,Height:t.Layout.Field_Height,XAlignment:t.Layout.xAlignment,YAlignment:t.Layout.yAlignment}}}convertToSmartFilter(t){const i={fields:[],data:[],title:"Filters"};return t&&(t.dataView&&(i.fields=this.createSmartFilterFields(t.dataView),t.data?.length&&(i.data=t.data)),t.title&&(i.title=t.title)),i}createSmartFilterFields(t){let i=[];const a=t.Fields.map(o=>({FieldID:o.FieldID,FieldType:o.Type,Title:o.Title,OptionalValues:o.OptionalValues})),r=this._queryBuilderService.convertToSmartFilterFields(a);return r?.length&&(i=r.map(o=>o.smart)),i}getSelectedItems(t){const i=[];for(let a=0;a<t.length;a++)t[a].IsSelected&&i.push(t[a].UID);return i}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(C.TranslateService),e.\u0275\u0275inject(y.PepQueryBuilderService))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n{constructor(t,i,a,r,o,s){var c;this._dataConvertorService=t,this._layoutService=i,this._loaderService=a,this._translate=r,this._genericListService=o,this._sessionService=s,this._dataSource={init:(c=(0,m.Z)(function*(_){return{dataView:{Type:"Grid"},totalCount:-1,items:[]}}),function(P){return c.apply(this,arguments)})},this.actions={get:function(){var c=(0,m.Z)(function*(_){return[]});return function(P){return c.apply(this,arguments)}}()},this.uuidMapping="key",this.disabled=!1,this.addPadding=!1,this.title="",this.description="",this.inline=!1,this.showSearch=!1,this.noDataFoundMsg="",this.selectionType="multi",this.supportSorting=!1,this.cacheSize=-1,this.hideSelectAll=!1,this.pager={type:"scroll"},this.tableViewType="regular",this.zebraStripes=!1,this.showTopBar=!1,this.breadCrumbsItems=new Array,this.selectAll=!1,this.scrollPosition=0,this.fieldClick=new e.EventEmitter,this.valueChange=new e.EventEmitter,this.breadCrumbItemClick=new e.EventEmitter,this.startIndexChange=new e.EventEmitter,this.listLoad=new e.EventEmitter,this._resize$=new S.Subscription,this._loader$=new S.Subscription,this._dataView={Type:"Grid"},this.onLoad=!0,this.totalRowCount=-1,this.searchString="",this.showSmartFilter=!1,this.showEmptyState=!1,this.smartFilters={fields:[],data:[],title:"Filters"},this._appliedFilters=[],this._sorting=void 0,this.menuHandlers={},this.menuActions=[],this._resize$=this._layoutService.onResize$.pipe().subscribe(c=>{}),this._loader$=this._loaderService.onChanged$.subscribe(c=>{})}set pepListContainer(t){this._pepListContainer=t}set dataSource(t){this._dataSource=t,this._sorting=void 0,this.initSearch(),this.initSmartSearch(),this.initList()}set smartFilter(t){this.smartFilters=this._genericListService.convertToSmartFilter(t),this.showSmartFilter=this.smartFilters.fields.length>0}set pepList(t){this._pepList=t}get pepList(){return this._pepList}ngOnInit(){}initList(){var t=this;return(0,m.Z)(function*(){t.onLoad=!0,setTimeout((0,m.Z)(function*(){if(t._dataSource){t.loadTableInputs();let i=0,a=0;"pages"===t.listInputs.pager.type?(i=t.listInputs.pager.size*t.listInputs.pager.index,a=i+(t.listInputs.pager.size||g.DEFAULT_PAGE_SIZE)-1):a=100;const r=yield t.loadData(i,a);if(!0===t.listInputs?.emptyState?.show&&t.setEmptyState(),t.onLoad=!1,t.showEmptyState)return t.listInputs.emptyState.title||t._translate.get("GENERIC_LIST.EMPTY_STATE.TITLE").subscribe(o=>{t.listInputs.emptyState.title=o}),void(t.listInputs.emptyState.description||t._translate.get("GENERIC_LIST.EMPTY_STATE.DESCRIPTION").subscribe(o=>{t.listInputs.emptyState.description=o}));setTimeout((0,m.Z)(function*(){if(t._pepListContainer){t._pepListContainer.length>0&&t._pepListContainer.remove();const{PepListComponent:o}=yield Promise.resolve().then(p.t.bind(p,61513,19)),s=t._pepListContainer.createComponent(o);t.pepList=s.instance,s.instance.viewType=t._genericListService.getListViewType(t._dataView.Type),s.instance.tableViewType=t.listInputs.tableViewType,s.instance.zebraStripes=t.listInputs.zebraStripes,t.disabled&&(s.instance.disabled=!0,s.instance.lockItemInnerEvents=!0),s.instance.supportSorting=t.listInputs.supportSorting,s.instance.sorting=t.listInputs.sorting,s.instance.cacheSize=t.listInputs.cacheSize,s.instance.selectionTypeForActions=t.listInputs.selectionType,s.instance.hideAllSelectionInMulti=t.listInputs.hideSelectAll,s.instance.showCardSelection="none"!==t.listInputs.selectionType,s.instance.pagerType=t.listInputs.pager.type,"pages"===t.listInputs.pager.type&&(s.instance.pageSize=t.listInputs.pager?.size||g.DEFAULT_PAGE_SIZE,s.instance.pageIndex=t.listInputs.pager?.index||0),"multi"==t.selectionType&&t.selectAll&&t._sessionService.setObject("AllSelected",!0),s.instance.noDataFoundMsg=t.listInputs.noDataFoundMsg,s.instance.startIndexChange.subscribe(_=>{t.startIndexChange.emit(_)}),s.instance.fieldClick.subscribe(_=>{t.onCustomizeFieldClick(_)}),s.instance.selectedItemsChange.subscribe(_=>{t.onSelectedItemsChanged(_)}),s.instance.loadItems.subscribe(_=>{t.onLoadItems(_)}),s.instance.loadPage.subscribe(_=>{t.onLoadPage(_)}),s.instance.valueChange.subscribe(_=>{t.onValueChanged(_)}),s.instance.sortingChange.subscribe(_=>{t.onSortingChange(_)}),s.instance.listLoad.subscribe(_=>{t.onListLoad()});let c=[];if(r){r?.length&&(c=t._dataConvertorService.convertListData(r));const _=t.getUiControl(v.DataViewConverter.toUIControlData(t._dataView)),P=t._genericListService.getSelectedItems(c);P?.length&&s.instance.setSelectedIds(P),s.instance.initListData(_,t.totalRowCount,c)}s.instance.scrollToIndex(t.scrollPosition)}}),0)}}),0)})()}loadTableInputs(){this.listInputs={supportSorting:this.supportSorting,sorting:this.sorting,cacheSize:this.cacheSize,hideSelectAll:this.hideSelectAll,selectionType:this.selectionType,pager:this.pager,noDataFoundMsg:this.noDataFoundMsg,tableViewType:this.tableViewType,zebraStripes:this.zebraStripes,emptyState:this.emptyState,selectAll:this.selectAll},this._dataSource.inputs&&Object.entries(this._dataSource.inputs).forEach(t=>{this._genericListService.hasProperty(this.listInputs,t[0])&&(this.listInputs[t[0]]=t[1])})}setEmptyState(){this.showEmptyState=0===this.totalRowCount&&""===this.searchString&&0===this._appliedFilters.length}getUiControl(t){const i=new u.UIControl;return i.ControlFields=[],t?.ControlFields&&(i.ControlFields=t.ControlFields.map(a=>this._genericListService.convertToUiControlField(a))),i}loadMenuItems(){"none"!==this.listInputs.selectionType&&this.getMenuActions().then(t=>this.menuActions=t)}getMenuActions(){var t=this;return(0,m.Z)(function*(){const i=[],a=t.getMenuObjects();if(a.success){const r=yield t.actions.get(a.data);t.menuHandlers={},r?.forEach(o=>{const s=u.PepGuid.newGuid();t.menuHandlers[s]=o.handler,i.push({key:s,text:o.title})})}return i})()}getMenuObjects(){const t={success:!1,data:new g.PepSelectionData};return this.pepList&&(t.success=!0,t.data=this.pepList.getSelectedItemsData()),t}initSearch(){this.searchString="",this.search?.initSearch()}initSmartSearch(){this._appliedFilters=[],this.smartFiltersComponent?.clearFilters()}loadData(t,i){var a=this;return(0,m.Z)(function*(){a._loaderService.show();let r=[];const o=yield a._dataSource.init({searchString:a.searchString||void 0,filters:a._appliedFilters.length?a._appliedFilters:void 0,sorting:a._sorting||void 0,fromIndex:t,toIndex:i});return a._loaderService.hide(),a.totalRowCount=o?.totalCount||0,o&&(a._dataView=o.dataView,o.items?.length>0&&!o.isPepRowData&&(r=o.items.map(s=>a._genericListService.convertToPepRowData(s,o.dataView,a.uuidMapping)))),r})()}updateDataList(t,i,a){var r=this;return(0,m.Z)(function*(){if(r._dataSource.update){r._loaderService.show();let o=[];const s=yield r._dataSource.update({searchString:r.searchString||void 0,filters:r._appliedFilters.length?r._appliedFilters:void 0,sorting:r._sorting||void 0,fromIndex:t,toIndex:i,pageIndex:a});return r._loaderService.hide(),s?.length>0&&(o=s.map(c=>r._genericListService.convertToPepRowData(c,r._dataView,r.uuidMapping))),o}return[]})()}onLoadItems(t){var i=this;return(0,m.Z)(function*(){const a=yield i.updateDataList(t.fromIndex,t.toIndex),r=i._dataConvertorService.convertListData(a),o=i._genericListService.getSelectedItems(r);o?.length&&i.pepList.setSelectedIds(o),i.pepList.updateItems(r,t)})()}onLoadPage(t){var i=this;return(0,m.Z)(function*(){const a=t.pageIndex*t.pageSize,r=Math.min(a+t.pageSize-1,i.totalRowCount-1),o=yield i.updateDataList(a,r,t.pageIndex),s=i._dataConvertorService.convertListData(o),c=i._genericListService.getSelectedItems(s);c?.length&&i.pepList.setSelectedIds(c),i.pepList.updatePage(s,t)})()}getItemById(t){return this.pepList?this._pepList.getItemDataByID(t):null}getSelectedItems(){return this.pepList?this._pepList.getSelectedItemsData():null}getPageIndex(){return this.pepList.pageIndex}onActionItemClicked(t){const i=this.getMenuObjects();i.success&&this.menuHandlers[t.source.key](i.data)}onSearchChanged(t){this.searchString=t.value,this.initList()}onSelectedItemsChanged(t){setTimeout(()=>{this.loadMenuItems()},0)}onCustomizeFieldClick(t){this.fieldClick.emit(t)}onBreadCrumbItemClick(t){this.breadCrumbItemClick.emit(t)}onValueChanged(t){this.valueChange.emit(t)}onSortingChange(t){this._sorting=t,this.initList()}onFiltersChange(t){this._appliedFilters=t,this.initList()}onListLoad(){this.listLoad.emit()}ngOnDestroy(){this._resize$&&this._resize$.unsubscribe(),this._loader$&&this._loader$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u.PepDataConvertorService),e.\u0275\u0275directiveInject(u.PepLayoutService),e.\u0275\u0275directiveInject(u.PepLoaderService),e.\u0275\u0275directiveInject(C.TranslateService),e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(u.PepSessionService))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["pep-generic-list"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(R,5),e.\u0275\u0275viewQuery(G,5),e.\u0275\u0275viewQuery(B,5,e.ViewContainerRef)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.search=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.smartFiltersComponent=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.pepListContainer=a.first)}},inputs:{dataSource:"dataSource",actions:"actions",uuidMapping:"uuidMapping",disabled:"disabled",addPadding:"addPadding",title:"title",description:"description",inline:"inline",showSearch:"showSearch",noDataFoundMsg:"noDataFoundMsg",emptyState:"emptyState",selectionType:"selectionType",supportSorting:"supportSorting",sorting:"sorting",cacheSize:"cacheSize",hideSelectAll:"hideSelectAll",pager:"pager",tableViewType:"tableViewType",zebraStripes:"zebraStripes",smartFilter:"smartFilter",showTopBar:"showTopBar",breadCrumbsItems:"breadCrumbsItems",selectAll:"selectAll",scrollPosition:"scrollPosition"},outputs:{fieldClick:"fieldClick",valueChange:"valueChange",breadCrumbItemClick:"breadCrumbItemClick",startIndexChange:"startIndexChange",listLoad:"listLoad"},features:[e.\u0275\u0275ProvidersFeature([x])],ngContentSelectors:ge,decls:10,vars:2,consts:[["class","inline-container",3,"ngClass",4,"ngIf"],["class","none-inline",3,"addPadding","showShadow",4,"ngIf"],["topBarTemplate",""],["smartFilterTemplate",""],["breadCrumbsTemplate",""],["listTemplate",""],[1,"inline-container",3,"ngClass"],[1,"header-area"],["class","inline-top-bar-container",4,"ngIf"],[4,"ngIf"],[1,"inline-top-bar-container"],[4,"ngTemplateOutlet"],[1,"list-description"],[1,"none-inline",3,"addPadding","showShadow"],["pep-side-area","",4,"ngIf"],["pep-top-area","",4,"ngIf"],["pep-main-area","","class","main-area-container",4,"ngIf"],["pep-side-area",""],["pep-top-area",""],["pep-main-area","",1,"main-area-container"],[3,"title","inline"],["header-start-content",""],["header-end-content",""],[3,"sizeType","actions","actionClick",4,"ngIf"],[3,"sizeType","totalRows"],[3,"value","sizeType","search",4,"ngIf"],[3,"sizeType","actions","actionClick"],[3,"value","sizeType","search"],["search",""],[3,"ngClass"],["sideNav",""],[3,"title","fields","filters","filtersChange"],["smartFiltersComponent",""],[1,"bread-crumbs",3,"items","addSpacing","displayType","itemClick"],["class","list-empty-state",4,"ngIf"],["class","list-container",4,"ngIf"],[1,"list-empty-state"],[1,"list-empty-title"],[1,"list-empty-descr"],["name","leaf_skiny",1,"leaf-skiny"],["name","leaf_round",1,"leaf-round"],[1,"list-container"],["pepListContainer",""]],template:function(t,i){1&t&&(e.\u0275\u0275projectionDef(ue),e.\u0275\u0275template(0,Q,7,9,"div",0),e.\u0275\u0275template(1,ae,6,7,"pep-page-layout",1),e.\u0275\u0275template(2,oe,8,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,pe,4,6,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,ce,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,me,2,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("ngIf",i.inline),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.inline))},dependencies:[f.NgClass,f.NgIf,f.NgTemplateOutlet,g.PepListActionsComponent,g.PepListTotalComponent,h.PepPageLayoutComponent,L.PepTopBarComponent,b.PepSideBarComponent,E.PepSearchComponent,O.PepBreadCrumbsComponent,T.PepIconComponent,w.PepSmartFiltersComponent],styles:['[_nghost-%COMP%]{height:inherit;display:block}.main-area-container[_ngcontent-%COMP%]{display:grid;height:inherit}.list-container[_ngcontent-%COMP%]{height:100%}.list-empty-state[_ngcontent-%COMP%]{padding-top:var(--pep-spacing-lg, 1rem);height:calc(100% - var(--pep-spacing-lg, 1rem));background:rgb(247,247,247);border-radius:var(--pep-border-radius-md, .25rem);position:relative;overflow:hidden;display:inline-flex!important;align-items:center;justify-content:center;flex-direction:column}.list-empty-state[_ngcontent-%COMP%]   .leaf-skiny[_ngcontent-%COMP%]{z-index:1;height:52rem;position:absolute;left:-10rem;top:-2rem;pointer-events:none;transform:scale(1.4)}.list-empty-state[_ngcontent-%COMP%]   .leaf-round[_ngcontent-%COMP%]{z-index:1;height:45rem;position:absolute;right:-13rem;top:-7rem;pointer-events:none;transform:rotate(45deg) scale(1)}.list-empty-state[_ngcontent-%COMP%]   .list-empty-title[_ngcontent-%COMP%]{font-family:var(--pep-font-family-title, Nexa),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif!important;font-weight:var(--pep-font-weight-bold, 600)!important;font-size:var(--pep-font-size-2xl, 1.5rem)!important;line-height:var(--pep-line-height-2xl, 1.875rem)!important;z-index:50;padding-inline:var(--pep-spacing-lg, 1rem)}.list-empty-state[_ngcontent-%COMP%]   .list-empty-descr[_ngcontent-%COMP%]{font-family:var(--pep-font-family-body, Inter),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif!important;font-weight:var(--pep-font-weight-normal, 400);font-size:var(--pep-font-size-md, 1rem)!important;line-height:var(--pep-line-height-md, 1.25rem)!important;z-index:50;padding-inline:var(--pep-spacing-lg, 1rem)}@media (max-width: 1279px){.list-empty-state[_ngcontent-%COMP%]   .leaf-skiny[_ngcontent-%COMP%]{top:-5rem;left:-11rem;transform:scale(1.1)}.list-empty-state[_ngcontent-%COMP%]   .leaf-round[_ngcontent-%COMP%]{right:-12rem;top:-7rem;transform:rotate(45deg) scale(.9)}}@media (max-width: 959px){.list-empty-state[_ngcontent-%COMP%]   .leaf-round[_ngcontent-%COMP%]{display:none}.list-empty-state[_ngcontent-%COMP%]   .list-empty-title[_ngcontent-%COMP%], .list-empty-state[_ngcontent-%COMP%]   .list-empty-descr[_ngcontent-%COMP%]{padding-inline:var(--pep-spacing-md, .75rem)}}.inline-container[_ngcontent-%COMP%]{height:inherit;display:grid;grid-template-rows:auto 1fr}.inline-container[_ngcontent-%COMP%]:not(.with-smart-filters)   .header-area[_ngcontent-%COMP%]{grid-row:1/2}.inline-container[_ngcontent-%COMP%]:not(.with-smart-filters)   .list-container[_ngcontent-%COMP%]{grid-row:2/3}.inline-container.with-smart-filters[_ngcontent-%COMP%]{grid-template-columns:auto 1fr}.inline-container.with-smart-filters[_ngcontent-%COMP%]   .header-area[_ngcontent-%COMP%]{grid-column:2/3;grid-row:1/2}.inline-container.with-smart-filters[_ngcontent-%COMP%]   .smart-filter-area[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/3}.inline-container.with-smart-filters[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{grid-column:2/3;grid-row:2/3}.inline-container.add-padding[_ngcontent-%COMP%]{padding-inline:var(--pep-spacing-lg, 1rem)}.inline-container[_ngcontent-%COMP%]   .list-description[_ngcontent-%COMP%]{font-size:var(--pep-font-size-xs, .75rem);max-width:640px;padding:var(--pep-spacing-sm, .5rem) 0}.inline-container[_ngcontent-%COMP%]   .bread-crumbs[_ngcontent-%COMP%]{padding:var(--pep-spacing-md, .75rem) 0 var(--pep-spacing-sm, .5rem) 0}.none-inline[_ngcontent-%COMP%]   .list-description[_ngcontent-%COMP%]{font-size:var(--pep-font-size-sm, .875rem);max-width:720px;padding:var(--pep-spacing-sm, .5rem) var(--pep-spacing-xs, .25rem)}.none-inline[_ngcontent-%COMP%]   .bread-crumbs[_ngcontent-%COMP%]{padding:var(--pep-spacing-md, .75rem) var(--pep-spacing-xs, .25rem) var(--pep-spacing-sm, .5rem) var(--pep-spacing-xs, .25rem)}.noDataFoundMsg[_ngcontent-%COMP%]{margin:1rem 0;height:calc(100% - 2rem);width:100%;background:hsla(0deg,0%,10%,.12);display:flex;justify-content:center;align-items:center}',".list-empty-state[_ngcontent-%COMP%]     .svg-icon{fill:hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.04)}"]}),n})();const fe=[T.pepIconLeafRound,T.pepIconLeafSkiny,T.pepIconSystemView];let Ce=(()=>{class n{constructor(t){this.pepIconRegistry=t,this.pepIconRegistry.registerIcons(fe)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(T.PepIconRegistry))},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[x],imports:[f.CommonModule,u.PepNgxLibModule,D.MatIconModule,g.PepListModule,F.PepFormModule,A.PepMenuModule,h.PepPageLayoutModule,L.PepTopBarModule,b.PepSideBarModule,E.PepSearchModule,O.PepBreadCrumbsModule,T.PepIconModule,w.PepSmartFiltersModule]}),n})()},15861:(M,d,p)=>{function m(f,u,S,g,I,C,y){try{var v=f[C](y),h=v.value}catch(L){return void S(L)}v.done?u(h):Promise.resolve(h).then(g,I)}function e(f){return function(){var u=this,S=arguments;return new Promise(function(g,I){var C=f.apply(u,S);function y(h){m(C,g,I,y,v,"next",h)}function v(h){m(C,g,I,y,v,"throw",h)}y(void 0)})}}p.d(d,{Z:()=>e})}}]);