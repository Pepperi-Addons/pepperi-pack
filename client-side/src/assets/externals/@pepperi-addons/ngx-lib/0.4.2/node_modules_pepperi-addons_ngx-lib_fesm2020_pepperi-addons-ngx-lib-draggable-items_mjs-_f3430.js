(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([["node_modules_pepperi-addons_ngx-lib_fesm2020_pepperi-addons-ngx-lib-draggable-items_mjs-_f3430"],{72245:(k,c,o)=>{o.r(c),o.d(c,{DraggableItemComponent:()=>h,PepDraggableItemsComponent:()=>T,PepDraggableItemsModule:()=>S});var e=o(60562),i=o(62923),m=o(45757),_=o(51959),C=o(23445),b=o(46202),l=o(61501),u=o(47593),p=o(48960),d=o(56604);function D(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",5)(1,"span",6),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.title),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.title)}}const f=[[["","pep-actions",""]]],v=function(n){return{disable:n}},y=["[pep-actions]"];function P(n,r){if(1&n&&e.\u0275\u0275element(0,"pep-search",7),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("searchControl",t.searchControl)}}const M=function(n){return{"pep-border-bottom":n}};function O(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",5)(1,"label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,P,1,1,"pep-search",6),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,M,"with-bottom-border"===t.titleType)),e.\u0275\u0275advance(1),e.\u0275\u0275classMapInterpolate1("title body-",t.titleSizeType," bold ellipsis "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showSearch&&(null==t.items?null:t.items.length)>t.numberItemsToShowSearch)}}function I(n,r){if(1&n&&e.\u0275\u0275element(0,"div"),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classMapInterpolate1("placeholder-item ",t.itemPlaceholderType,"")}}function E(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,I,1,3,"div",10),e.\u0275\u0275elementContainerEnd())}function w(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-draggable-item",8),e.\u0275\u0275listener("cdkDragStarted",function(s){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onDragStart(s))})("cdkDragEnded",function(s){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onDragEnd(s))}),e.\u0275\u0275template(1,E,2,0,"ng-container",9),e.\u0275\u0275elementEnd()}if(2&n){const t=r.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.title)("data",t.data)("disabled",t.disabled)("cdkDragData",t.data)("cdkDragDisabled",t.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","regular"!==a.itemPlaceholderType)}}const x=function(n){return{"add-padding":n}};let h=(()=>{class n{constructor(){this.title="",this.disabled=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["pep-draggable-item"]],inputs:{title:"title",data:"data",disabled:"disabled"},ngContentSelectors:y,decls:6,vars:4,consts:[[1,"pep-draggable-item-container",3,"ngClass"],[1,""],["classNames","lock-events","sizeType","xs","iconName","system_move"],["class","title-container",4,"ngIf"],[1,"actions"],[1,"title-container"],[1,"body-sm","bold","ellipsis","title",3,"title"]],template:function(t,a){1&t&&(e.\u0275\u0275projectionDef(f),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"pep-button",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,D,3,2,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275projection(5),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,v,a.disabled)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",""!==a.title))},dependencies:[i.NgClass,i.NgIf,m.PepButtonComponent],styles:["[_nghost-%COMP%]{display:block}.pep-draggable-item-container[_ngcontent-%COMP%]{height:2.5rem;width:100%;display:grid;grid-template-columns:auto 1fr auto;align-items:center;border-radius:var(--pep-border-radius-md, .25rem);padding-inline:var(--pep-spacing-sm, .5rem);background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%));box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.16)}.pep-draggable-item-container.disable[_ngcontent-%COMP%]{opacity:.35;pointer-events:none}.pep-draggable-item-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{overflow-x:hidden;margin-inline:var(--pep-spacing-sm, .5rem)}.pep-draggable-item-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block}.pep-draggable-item-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:inline-flex;gap:var(--pep-spacing-xs, .25rem)}"]}),n})(),T=(()=>{class n{constructor(){this.containerId="draggable-container",this.showSearch=!1,this.title="",this.titleType="regular",this.titleSizeType="md",this.itemPlaceholderType="weak",this.dropAreaIds=[],this._items=[],this.itemDragStarted=new e.EventEmitter,this.itemDragEnded=new e.EventEmitter,this.searchControl=new _.FormControl,this.numberItemsToShowSearch=5,this._destroyed=new u.Subject}set items(t){this._items=t,this.items?.length>0?this.searchControl.enable():this.searchControl.disable()}get items(){return this._items}filterItems(t){const a=t.toLowerCase();return this.items.filter(s=>s.title&&s.title.toLowerCase().includes(a.toLowerCase()))}changeCursorOnDragStart(){document.body.classList.add("inheritCursors"),document.body.style.cursor="grabbing"}changeCursorOnDragEnd(){document.body.classList.remove("inheritCursors"),document.body.style.cursor="unset"}getDestroyer(){return(0,p.takeUntil)(this._destroyed)}ngOnInit(){0===this.items.length&&this.searchControl.disable(),this.filteredItems$=this.searchControl.valueChanges.pipe(this.getDestroyer(),(0,p.startWith)(""),(0,p.map)(t=>"string"==typeof t?t:t&&t.value),(0,p.map)(t=>t?this.filterItems(t):this.items))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onDragStart(t){this.changeCursorOnDragStart(),this.itemDragStarted.emit(t)}onDragEnd(t){this.changeCursorOnDragEnd(),this.itemDragEnded.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["pep-draggable-items"]],inputs:{containerId:"containerId",showSearch:"showSearch",title:"title",titleType:"titleType",titleSizeType:"titleSizeType",itemPlaceholderType:"itemPlaceholderType",dropAreaIds:"dropAreaIds",items:"items"},outputs:{itemDragStarted:"itemDragStarted",itemDragEnded:"itemDragEnded"},decls:7,vars:12,consts:[["cdkDropList","","cdkDropListSortingDisabled","",1,"pep-draggable-items-container",3,"id","cdkDropListData","cdkDropListConnectedTo"],["class","title-container",3,"ngClass",4,"ngIf"],[1,"draggable-items-overflow",3,"ngClass"],[1,"draggable-items-wrapper"],["class","draggble-item","cdkDrag","",3,"title","data","disabled","cdkDragData","cdkDragDisabled","cdkDragStarted","cdkDragEnded",4,"ngFor","ngForOf"],[1,"title-container",3,"ngClass"],["class","search-button","sizeType","sm","shrink","always","triggerOn","keydown",3,"searchControl",4,"ngIf"],["sizeType","sm","shrink","always","triggerOn","keydown",1,"search-button",3,"searchControl"],["cdkDrag","",1,"draggble-item",3,"title","data","disabled","cdkDragData","cdkDragDisabled","cdkDragStarted","cdkDragEnded"],[4,"ngIf"],[3,"class",4,"cdkDragPlaceholder"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,O,4,8,"div",1),e.\u0275\u0275elementStart(3,"div",2)(4,"div",3),e.\u0275\u0275template(5,w,2,6,"pep-draggable-item",4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("id",a.containerId)("cdkDropListData",e.\u0275\u0275pipeBind1(1,6,a.filteredItems$))("cdkDropListConnectedTo",a.dropAreaIds),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","none"!==a.titleType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,x,"with-bottom-border"===a.titleType)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,8,a.filteredItems$)))},dependencies:[i.NgClass,i.NgForOf,i.NgIf,b.PepSearchComponent,l.CdkDropList,l.CdkDrag,l.CdkDragPlaceholder,h,i.AsyncPipe],styles:[".pep-draggable-items-container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%;overflow:hidden;padding-inline-end:var(--pep-spacing-xs, .25rem)}.pep-draggable-items-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{height:var(--pep-top-bar-field-height, 2.5rem);display:flex;gap:var(--pep-spacing-sm, .5rem);flex-flow:row;justify-content:space-between}.pep-draggable-items-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{align-self:center}.pep-draggable-items-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{display:flex;align-self:center}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow[_ngcontent-%COMP%]{overflow:auto}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow.add-padding[_ngcontent-%COMP%]{padding:var(--pep-spacing-lg, 1rem) 0}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow[_ngcontent-%COMP%]   .draggable-items-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--pep-spacing-sm, .5rem)}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow[_ngcontent-%COMP%]   .draggable-items-wrapper[_ngcontent-%COMP%]   .draggble-item[_ngcontent-%COMP%]{cursor:grab}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow[_ngcontent-%COMP%]   .draggable-items-wrapper[_ngcontent-%COMP%]   .draggble-item.cdk-drag-disabled[_ngcontent-%COMP%]{cursor:not-allowed}.pep-draggable-items-container[_ngcontent-%COMP%]   .draggable-items-overflow[_ngcontent-%COMP%]   .draggable-items-wrapper[_ngcontent-%COMP%]   .placeholder-item[_ngcontent-%COMP%]{height:2.5rem;border-radius:var(--pep-border-radius-md, .25rem);width:100%}",".placeholder-item.none[_ngcontent-%COMP%]{opacity:0}.placeholder-item.weak[_ngcontent-%COMP%]{background:hsla(var(--pep-color-weak-h, 0),var(--pep-color-weak-s, 0%),var(--pep-color-weak-l, 10%),.12)}"]}),n})(),S=(()=>{class n{constructor(t){this.pepIconRegistry=t,this.pepIconRegistry.registerIcons([d.pepIconSystemMove])}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(d.PepIconRegistry))},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[i.CommonModule,_.ReactiveFormsModule,C.PepNgxLibModule,m.PepButtonModule,d.PepIconModule,b.PepSearchModule,l.DragDropModule]}),n})()}}]);