(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([["node_modules_pepperi-addons_ngx-lib_fesm2020_pepperi-addons-ngx-lib-profile-data-views-list_m-1444a60"],{30785:(F,f,r)=>{r.r(f),r.d(f,{PepProfileDataViewsListModule:()=>R,ProfileDataViewComponent:()=>C,ProfileDataViewsCardComponent:()=>w,ProfileDataViewsListComponent:()=>A});var e=r(60562),p=r(14768),s=r(62923),m=r(51403),c=r(45757),g=r(51959),v=r(81638),P=r(95544),D=r(23445),_=r(36378),u=r(81931),V=r(749),d=r(56604);function E(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",10),e.\u0275\u0275listener("buttonClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onDeleteClicked(a))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(1,1,"ACTIONS.REMOVE"))}function I(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"span",8),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,E,2,3,"pep-button",9),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canDelete)}}function x(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"PROFILE_DATA_VIEWS_LIST.NO_FIELDS_ASSIGNED"),""))}function h(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=l.$implicit;e.\u0275\u0275property("title",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function y(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"PROFILE_DATA_VIEWS_LIST.DEFAULT_PROFILE"),"\xa0 "))}function b(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementStart(2,"span",6),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,y,3,3,"span",7),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",t.title+" "+(t.isDefault?e.\u0275\u0275pipeBind1(1,3,"PROFILE_DATA_VIEWS_LIST.DEFAULT_PROFILE"):"")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.title,"\xa0"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isDefault)}}function k(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-menu",9),e.\u0275\u0275listener("menuItemClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onMenuItemClicked(a))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("items",t.menuItems)}}function M(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-profile-data-view",10),e.\u0275\u0275listener("editClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDataViewEditClicked(a))})("deleteClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDataViewDeleteClicked(a))}),e.\u0275\u0275elementEnd()}if(2&i){const t=l.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dataViewId",t.dataViewId)("title",n.configurationPerScreenSize?t.viewType:"")("fields",t.fields)("canDelete",!(n.isDefault&&"Tablet"===t.viewType))}}const T=["selectProfileTemplate"];function O(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-profile-data-views-card",4),e.\u0275\u0275listener("dataViewEditClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDataViewEditClicked(a))})("dataViewDeleteClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDataViewDeleteClicked(a))}),e.\u0275\u0275elementEnd()}if(2&i){const t=l.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("configurationPerScreenSize",n.configurationPerScreenSize)("title",t.title)("profileId",t.profileId)("dataViews",t.dataViews)("isDefault",t.profileId===n.defaultProfileId)}}function S(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",5),e.\u0275\u0275listener("buttonClick",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onAddProfileClicked(a))}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(1,1,"PROFILE_DATA_VIEWS_LIST.ADD_PROFILE"))}function L(i,l){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-dialog",6),e.\u0275\u0275listener("close",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeDialog())}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275elementContainerStart(2,7),e.\u0275\u0275elementStart(3,"pep-select",8),e.\u0275\u0275listener("valueChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.setSelectedNewProfileId(a))}),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(5,9),e.\u0275\u0275elementStart(6,"div",10)(7,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeDialog())}),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.saveNewProfile())}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&i){const t=l.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,7,"PROFILE_DATA_VIEWS_LIST.SELECT_PROFILE_DIALOG_TITLE")),e.\u0275\u0275advance(3),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(4,9,"PROFILE_DATA_VIEWS_LIST.SELECT_PROFILE"))("options",t.options)("emptyOption",!1),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,11,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",""===n.selectedNewProfileId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"Save")," ")}}let C=(()=>{class i{constructor(){this.canDelete=!0,this.editClick=new e.EventEmitter,this.deleteClick=new e.EventEmitter}ngOnInit(){}onEditClicked(t){this.editClick.emit({dataViewId:this.dataViewId})}onDeleteClicked(t){this.deleteClick.emit({dataViewId:this.dataViewId})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["pep-profile-data-view"]],inputs:{dataViewId:"dataViewId",title:"title",fields:"fields",canDelete:"canDelete"},outputs:{editClick:"editClick",deleteClick:"deleteClick"},decls:6,vars:3,consts:[["class","data-view-title-container",4,"ngIf"],[1,"data-view-container"],[1,"fields-container"],["class","color-caution body-xs ellipsis data-view-field",4,"ngIf"],["class","color-dimmed body-xs ellipsis data-view-field",3,"title",4,"ngFor","ngForOf"],["iconName","system_edit","sizeType","xs",1,"edit-button",3,"buttonClick"],[1,"data-view-title-container"],[1,"title","ellipsis",3,"title"],[1,"title-md"],["class","delete-button","sizeType","xs",3,"value","buttonClick",4,"ngIf"],["sizeType","xs",1,"delete-button",3,"value","buttonClick"],[1,"color-caution","body-xs","ellipsis","data-view-field"],[1,"color-dimmed","body-xs","ellipsis","data-view-field",3,"title"]],template:function(t,n){1&t&&(e.\u0275\u0275template(0,I,5,3,"div",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2),e.\u0275\u0275template(3,x,3,3,"span",3),e.\u0275\u0275template(4,h,2,2,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"pep-button",5),e.\u0275\u0275listener("buttonClick",function(o){return n.onEditClicked(o)}),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("ngIf",(null==n.title?null:n.title.length)>0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null===n.fields||0===n.fields.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.fields))},dependencies:[s.NgForOf,s.NgIf,c.PepButtonComponent,p.TranslatePipe],styles:[".data-view-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:var(--pep-spacing-sm, .5rem)}.data-view-title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;max-width:240px;align-self:center}.data-view-container[_ngcontent-%COMP%]{padding:var(--pep-spacing-sm, .5rem);border-radius:var(--pep-border-radius-md, .25rem);position:relative}.data-view-container[_ngcontent-%COMP%]   .fields-container[_ngcontent-%COMP%]{margin-bottom:var(--pep-spacing-sm, .5rem);margin-inline-end:2rem}.data-view-container[_ngcontent-%COMP%]   .fields-container[_ngcontent-%COMP%]   .data-view-field[_ngcontent-%COMP%]{display:block}.data-view-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{position:absolute;right:var(--pep-spacing-sm, .5rem);bottom:var(--pep-spacing-sm, .5rem)}",".data-view-container[_ngcontent-%COMP%]{background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%));background:hsl(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%))}"]}),i})(),w=(()=>{class i{constructor(t){this.translate=t,this.profileId="",this.title="",this.dataViews=[],this.configurationPerScreenSize=!1,this.isDefault=!1,this.dataViewEditClick=new e.EventEmitter,this.dataViewDeleteClick=new e.EventEmitter,this.menuItems=[]}loadMenuItems(){const t="ACTIONS.REMOVE";this.translate.get([t]).subscribe(n=>{this.menuItems=[{key:"delete",text:this.translate.instant(n[t])}]})}ngOnInit(){this.loadMenuItems()}onMenuItemClicked(t){1===this.dataViews.length&&"delete"===t.source.key&&this.onDataViewDeleteClicked({dataViewId:this.dataViews[0].dataViewId})}onDataViewEditClicked(t){this.dataViewEditClick.emit(t)}onDataViewDeleteClicked(t){this.dataViewDeleteClick.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(p.TranslateService))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["pep-profile-data-views-card"]],inputs:{profileId:"profileId",title:"title",dataViews:"dataViews",configurationPerScreenSize:"configurationPerScreenSize",isDefault:"isDefault"},outputs:{dataViewEditClick:"dataViewEditClick",dataViewDeleteClick:"dataViewDeleteClick"},decls:5,vars:3,consts:[[1,"profile-data-views-card-container"],[1,"card-top-bar","pep-border-bottom"],["class","title ellipsis",3,"title",4,"ngIf"],["sizeType","sm",3,"items","menuItemClick",4,"ngIf"],[3,"dataViewId","title","fields","canDelete","editClick","deleteClick",4,"ngFor","ngForOf"],[1,"title","ellipsis",3,"title"],[1,"title-md"],["class","color-dimmed",4,"ngIf"],[1,"color-dimmed"],["sizeType","sm",3,"items","menuItemClick"],[3,"dataViewId","title","fields","canDelete","editClick","deleteClick"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,b,5,5,"div",2),e.\u0275\u0275template(3,k,1,1,"pep-menu",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,M,1,4,"pep-profile-data-view",4),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==n.title?null:n.title.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.configurationPerScreenSize&&!n.isDefault),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.dataViews))},dependencies:[s.NgForOf,s.NgIf,m.PepMenuComponent,C,p.TranslatePipe],styles:[".profile-data-views-card-container[_ngcontent-%COMP%]{padding:var(--pep-spacing-lg, 1rem);border-radius:var(--pep-border-radius-md, .25rem);width:320px;max-width:320px}.profile-data-views-card-container[_ngcontent-%COMP%]   .card-top-bar[_ngcontent-%COMP%]{height:var(--pep-top-bar-field-height, 2.5rem);margin-bottom:var(--pep-spacing-md, .75rem);display:flex;justify-content:space-between}.profile-data-views-card-container[_ngcontent-%COMP%]   .card-top-bar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;height:calc(var(--pep-top-bar-field-height, 2.5rem) - var(--pep-spacing-sm, .5rem));align-self:center}",".profile-data-views-card-container[_ngcontent-%COMP%]{background:hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),98%);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);border:1px solid hsl(var(--pep-color-regular-h, 0),var(--pep-color-regular-s, 0%),calc(var(--pep-color-regular-l, 10%) + 30%))}"]}),i})(),A=(()=>{class i{constructor(t){this.dialogService=t,this.defaultProfileId="",this._availableProfiles=[],this._profileDataViewsList=[],this.configurationPerScreenSize=!1,this.saveNewProfileClick=new e.EventEmitter,this.dataViewEditClick=new e.EventEmitter,this.dataViewDeleteClick=new e.EventEmitter,this.selectedNewProfileId="",this.nonExistingProfiles=[]}set availableProfiles(t){this._availableProfiles=t,this.setNonExistingProfiles()}get availableProfiles(){return this._availableProfiles}set profileDataViewsList(t){this._profileDataViewsList=t,this.setNonExistingProfiles()}get profileDataViewsList(){return this._profileDataViewsList}setNonExistingProfiles(){this.nonExistingProfiles=this.availableProfiles.filter(t=>-1===this.profileDataViewsList.findIndex(n=>n.profileId===t.id))}ngOnInit(){}setSelectedNewProfileId(t){this.selectedNewProfileId=t}closeDialog(){this.dialogRef?.close()}saveNewProfile(){this.saveNewProfileClick.emit(this.selectedNewProfileId),this.closeDialog()}onAddProfileClicked(t){this.selectedNewProfileId="";const n=[];n.push(...this.nonExistingProfiles.map(a=>({key:a.id,value:a.name}))),this.dialogRef=this.dialogService.openDialog(this.selectProfileTemplate,{options:n})}onDataViewEditClicked(t){this.dataViewEditClick.emit(t)}onDataViewDeleteClicked(t){this.dataViewDeleteClick.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(_.PepDialogService))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["pep-profile-data-views-list"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(T,5,e.TemplateRef),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.selectProfileTemplate=a.first)}},inputs:{defaultProfileId:"defaultProfileId",availableProfiles:"availableProfiles",profileDataViewsList:"profileDataViewsList",configurationPerScreenSize:"configurationPerScreenSize"},outputs:{saveNewProfileClick:"saveNewProfileClick",dataViewEditClick:"dataViewEditClick",dataViewDeleteClick:"dataViewDeleteClick"},decls:5,vars:2,consts:[[1,"profile-data-views-list-container"],[3,"configurationPerScreenSize","title","profileId","dataViews","isDefault","dataViewEditClick","dataViewDeleteClick",4,"ngFor","ngForOf"],["iconName","number_plus","sizeType","lg",3,"value","buttonClick",4,"ngIf"],["selectProfileTemplate",""],[3,"configurationPerScreenSize","title","profileId","dataViews","isDefault","dataViewEditClick","dataViewDeleteClick"],["iconName","number_plus","sizeType","lg",3,"value","buttonClick"],[3,"title","close"],["pep-dialog-content",""],[3,"label","options","emptyOption","valueChange"],["pep-dialog-actions",""],[1,"pep-spacing-element-negative"],["mat-button","",1,"pep-spacing-element","pep-button","md","weak",3,"click"],["mat-button","",1,"pep-spacing-element","pep-button","md","strong",3,"disabled","click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,O,1,5,"pep-profile-data-views-card",1),e.\u0275\u0275template(2,S,2,3,"pep-button",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,L,13,15,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.profileDataViewsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.nonExistingProfiles?null:n.nonExistingProfiles.length)>0))},dependencies:[s.NgForOf,s.NgIf,c.PepButtonComponent,_.PepDialogComponent,u.PepSelectComponent,w,p.TranslatePipe],styles:[".profile-data-views-list-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}"]}),i})(),R=(()=>{class i{constructor(t){this.pepIconRegistry=t,this.pepIconRegistry.registerIcons([d.pepIconSystemEdit,d.pepIconSystemMenu])}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(d.PepIconRegistry))},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,g.ReactiveFormsModule,v.MatDialogModule,P.MatMenuModule,D.PepNgxLibModule,c.PepButtonModule,_.PepDialogModule,u.PepSelectModule,m.PepMenuModule,d.PepIconModule,V.PepTopBarModule]}),i})()}}]);