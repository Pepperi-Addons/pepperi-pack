(self.webpackChunkfile_4817f4fe_9ff6_435e_9415_96b1142675eb=self.webpackChunkfile_4817f4fe_9ff6_435e_9415_96b1142675eb||[]).push([["default-node_modules_pepperi-addons_ngx-lib_fesm2020_pepperi-addons-ngx-lib-images-filmstrip_mjs"],{32173:(B,u,l)=>{l.r(u),l.d(u,{PepImagesFilmstripComponent:()=>R,PepImagesFilmstripModule:()=>V});var e=l(60562),m=l(62923),h=l(51959),I=l(72753),w=l(12773),_=l(61111),P=l(14139),p=l(88955),f=l(58105),v=l(14291),g=l(92362),d=l(9825),s=l(95150);l(11301);const x=["galleryCont"],b=["galleryDialogTemplate"],T=["galleryDialogCont"];function M(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function D(n,o){if(1&n&&e.\u0275\u0275element(0,"pep-field-title",12),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("label",t.label)("xAlignment",t.xAlignment)("showTitle",t.showTitle)}}function E(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(7);return e.\u0275\u0275resetView(r.prev())}),e.\u0275\u0275elementEnd()}}function O(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(7);return e.\u0275\u0275resetView(r.next())}),e.\u0275\u0275elementEnd()}}function S(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,3),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275template(2,D,1,3,"pep-field-title",5),e.\u0275\u0275elementStart(3,"div",6,7),e.\u0275\u0275template(5,E,1,0,"pep-button",8),e.\u0275\u0275elementStart(6,"gallery",9,10),e.\u0275\u0275listener("itemClick",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.enlargeImage(r))})("indexChange",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.indexChange(r))})("error",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onError(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,O,1,0,"pep-button",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.renderTitle),e.\u0275\u0275advance(1),e.\u0275\u0275styleProp("height",t.fieldHeight),e.\u0275\u0275property("ngClass",t.isVertical?"vertical-gallery":"horizontal-gallery"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t.items?null:t.items.length)>1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","",t.guid,"-gallery"),e.\u0275\u0275property("imageSize","contain"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t.items?null:t.items.length)>1)}}function F(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(6);return e.\u0275\u0275resetView(r.prev())}),e.\u0275\u0275elementEnd()}}function A(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pep-button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(6);return e.\u0275\u0275resetView(r.next())}),e.\u0275\u0275elementEnd()}}function k(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",15)(1,"pep-dialog",16),e.\u0275\u0275listener("close",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeDialog(r))}),e.\u0275\u0275elementStart(2,"div",17,18),e.\u0275\u0275template(4,F,1,0,"pep-button",19),e.\u0275\u0275elementStart(5,"gallery",20,21),e.\u0275\u0275listener("indexChange",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.indexChange(r))})("error",function(r){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onError(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,A,1,0,"pep-button",22),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.label)("showFooter",t.showFooter)("showClose",t.showClose),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.isVertical?"vertical-gallery":"horizontal-gallery"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t.items?null:t.items.length)>1),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","",t.guid,"-dlgGallery"),e.\u0275\u0275property("imageSize","contain"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t.items?null:t.items.length)>1)}}let R=(()=>{class n{constructor(t,i,r,a,L,N,z,G,W,j,H,C,c){this.customizationService=t,this.dialogService=i,this.layoutService=r,this.fileService=a,this.iconRegistry=L,this.utilitiesService=N,this.gallery=z,this.renderer=G,this.element=W,this.cd=j,this.document=H,this.dialogRef=C,this.data=c,this.key="",this.value="",this.label="",this.xAlignment=p.DEFAULT_HORIZONTAL_ALIGNMENT,this._rowSpan=10,this.controlType="images",this.form=null,this.uid="0",this.showTitle=!1,this.renderTitle=!0,this._layoutType="form",this.currIndex=0,this.showThumbnails=!1,this.items=null,this.inDialog=!1,this.showFooter=!1,this.showClose=!0,this.mandatory=!1,this.readonly=!1,this.disabled=!1,this.fieldHeight="",this.standAlone=!1,this.galleryWidth=0,this.isVertical=!1,C&&c&&(this.inDialog=!0,Object.keys(c).forEach(y=>{y in this&&(this[y]=c[y])})),this.config={nav:!1,counter:!1,gestures:!0,imageSize:"contain",loadingStrategy:s.LoadingStrategy.Preload},this.guid=p.PepGuid.newGuid()}set rowSpan(t){this._rowSpan=t,this.setFieldHeight()}get rowSpan(){return this._rowSpan}set layoutType(t){this._layoutType=t,this.setFieldHeight()}get layoutType(){return this._layoutType}setFieldHeight(){this.fieldHeight=this.customizationService.calculateFieldHeight(this.layoutType,this.rowSpan,this.standAlone)}setDefaultForm(){const t=new p.PepImagesField({key:this.key,value:this.value,mandatory:this.mandatory,readonly:this.readonly,disabled:this.disabled});this.form=this.customizationService.getDefaultFromGroup(t)}ngOnInit(){if(this.inDialog||null===this.form&&(this.standAlone=!0,this.setFieldHeight(),this.setDefaultForm(),this.renderer.addClass(this.element.nativeElement,p.PepCustomizationService.STAND_ALONE_FIELD_CLASS_NAME),this.renderTitle||this.renderer.addClass(this.element.nativeElement,p.PepCustomizationService.STAND_ALONE_FIELD_NO_SPACING_CLASS_NAME)),null===this.items){const t=this.value?this.value.split(";"):[];if(0===t.length){const i=this.fileService.getSvgAsImageSrc(g.pepIconNoImage2.data);t.push(i)}this.items=t.map(i=>new s.ImageItem({src:i,thumb:i}))}this.config.dots=this.config.nav=this.items.length>1,this.config.thumb=!("ItemFilmstripImages"!==this.key&&!this.showThumbnails||!(this.items.length>1)),this.currIndex="ItemFilmstripImages"===this.key&&0===this.currIndex&&this.items.length>1?Math.floor(this.items.length/2)-1:this.currIndex}ngAfterViewInit(){this.inDialog?this.afterDialogOpened():(this.galleryRef=this.gallery.ref(`${this.guid}-gallery`),this.initGalleryStyle(this.galleryCont,this.galleryRef))}ngOnChanges(){this.standAlone&&this.setDefaultForm()}ngOnDestroy(){this.galleryRef&&this.galleryRef.destroy(),this.dialogGalleryRef&&this.dialogGalleryRef.destroy()}initGalleryStyle(t,i){setTimeout(()=>{this.setThumbnailDimension(t),i.setConfig(this.config)},0);const r=this.currIndex;r>0?setTimeout(()=>{i.load(this.items),i.set(r)},0):i.load(this.items)}onError(t){const i=this.fileService.getSvgAsImageSrc(g.pepIconNoImage2.data),r=new s.ImageItem({src:i,thumb:i});this.items.splice(t.itemIndex,1,r)}enlargeImage(t){const i=this.dialogService.getDialogConfig({},"inline");i.maxWidth="75vw",i.height="95vh",this.enlargeImageDialogRef=this.dialogService.openDialog(this.galleryDialogTemplate,{currIndex:this.currIndex},i),this.enlargeImageDialogRef.afterOpened().subscribe(()=>{this.afterDialogOpened()})}afterDialogOpened(){this.dialogGalleryRef=this.gallery.ref(`${this.guid}-dlgGallery`),this.initGalleryStyle(this.galleryDialogCont,this.dialogGalleryRef)}closeDialog(t){this.inDialog?this.dialogRef?.close(t):this.enlargeImageDialogRef?.close(t)}setThumbnailDimension(t){if(this.galleryWidth=t.nativeElement.clientWidth,this.galleryHeight=this.inDialog?t.nativeElement.clientHeight-32:t.nativeElement.clientHeight,this.cd.detectChanges(),this.isVertical=this.galleryWidth<this.galleryHeight,this.cd.detectChanges(),this.isVertical){let i=(this.galleryWidth-16*(this.items.length-1))/this.items.length;i=Math.min(Math.max(i,24),96),this.config.thumbHeight=i,this.config.thumbWidth=i+16}else{let i=(this.galleryHeight-16*(this.items.length-1))/this.items.length;i=Math.min(Math.max(i,24),96),this.config.thumbHeight=i+16,this.config.thumbWidth=i}this.config.thumbPosition=this.isVertical?s.ThumbnailsPosition.Bottom:this.layoutService.isRtl()?s.ThumbnailsPosition.Right:s.ThumbnailsPosition.Left,this.config.slidingDirection="ItemFilmstripImages"!==this.key||this.isVertical?s.SlidingDirection.Horizontal:s.SlidingDirection.Vertical,this.config.imageSize="contain"}indexChange(t){this.currIndex=t.currIndex}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.PepCustomizationService),e.\u0275\u0275directiveInject(d.PepDialogService),e.\u0275\u0275directiveInject(p.PepLayoutService),e.\u0275\u0275directiveInject(p.PepFileService),e.\u0275\u0275directiveInject(g.PepIconRegistry),e.\u0275\u0275directiveInject(p.PepUtilitiesService),e.\u0275\u0275directiveInject(s.Gallery),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.DOCUMENT,8),e.\u0275\u0275directiveInject(_.MatDialogRef,8),e.\u0275\u0275directiveInject(_.MAT_DIALOG_DATA,8))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["pep-images-filmstrip"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(x,5),e.\u0275\u0275viewQuery(b,5,e.TemplateRef),e.\u0275\u0275viewQuery(T,5)),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(i.galleryCont=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(i.galleryDialogTemplate=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(i.galleryDialogCont=r.first)}},inputs:{key:"key",value:"value",label:"label",xAlignment:"xAlignment",rowSpan:"rowSpan",form:"form",uid:"uid",showTitle:"showTitle",renderTitle:"renderTitle",layoutType:"layoutType",currIndex:"currIndex",showThumbnails:"showThumbnails"},features:[e.\u0275\u0275NgOnChangesFeature],decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["regularTemplate",""],["galleryDialogTemplate",""],[3,"formGroup"],[1,"images-filmstrip-container"],[3,"label","xAlignment","showTitle",4,"ngIf"],[1,"img-wrapper",3,"ngClass"],["galleryCont",""],["iconName","arrow_left_alt","styleType","weak-invert","sizeType","sm","class","gallery-arrow start-arrow",3,"click",4,"ngIf"],[3,"id","imageSize","itemClick","indexChange","error"],["formGallery",""],["iconName","arrow_right_alt","styleType","weak-invert","sizeType","sm","class","gallery-arrow end-arrow",3,"click",4,"ngIf"],[3,"label","xAlignment","showTitle"],["iconName","arrow_left_alt","styleType","weak-invert","sizeType","sm",1,"gallery-arrow","start-arrow",3,"click"],["iconName","arrow_right_alt","styleType","weak-invert","sizeType","sm",1,"gallery-arrow","end-arrow",3,"click"],[1,"gallery-dialog"],[3,"title","showFooter","showClose","close"],["pep-dialog-content","",1,"gallery-dialog-content",3,"ngClass"],["galleryDialogCont",""],["iconName","arrow_left_alt","styleType","weak-invert","class","gallery-arrow start-arrow",3,"click",4,"ngIf"],[3,"id","imageSize","indexChange","error"],["dialogGallery",""],["iconName","arrow_right_alt","styleType","weak-invert","class","gallery-arrow end-arrow",3,"click",4,"ngIf"],["iconName","arrow_left_alt","styleType","weak-invert",1,"gallery-arrow","start-arrow",3,"click"],["iconName","arrow_right_alt","styleType","weak-invert",1,"gallery-arrow","end-arrow",3,"click"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,M,1,0,"ng-container",0),e.\u0275\u0275template(1,S,9,9,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,k,8,8,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&t){const r=e.\u0275\u0275reference(2),a=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngIf",i.inDialog)("ngIfThen",a)("ngIfElse",r)}},dependencies:[m.NgClass,m.NgIf,h.NgControlStatusGroup,h.FormGroupDirective,s.GalleryComponent,v.PepButtonComponent,f.PepFieldTitleComponent,d.PepDialogComponent],styles:["[_nghost-%COMP%]{width:100%;height:inherit;display:block}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}.gallery-dialog[_ngcontent-%COMP%]{height:inherit}.images-filmstrip-container[_ngcontent-%COMP%]{height:100%}.images-filmstrip-container[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{height:100%;position:relative}.images-filmstrip-container[_ngcontent-%COMP%]   .gallery-arrow[_ngcontent-%COMP%]{padding:.5rem}.images-filmstrip-container[_ngcontent-%COMP%]   .gallery-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:2}.images-filmstrip-container[_ngcontent-%COMP%]   .gallery-arrow.start-arrow[_ngcontent-%COMP%]{left:0}.images-filmstrip-container[_ngcontent-%COMP%]   .gallery-arrow.end-arrow[_ngcontent-%COMP%]{right:0}gallery[_ngcontent-%COMP%]{direction:ltr;height:100%;min-height:100%}.gallery-dialog-content[_ngcontent-%COMP%]{position:relative}.gallery-dialog-content[_ngcontent-%COMP%]   .gallery-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:2}.gallery-dialog-content[_ngcontent-%COMP%]   .gallery-arrow.start-arrow[_ngcontent-%COMP%]{left:0}.gallery-dialog-content[_ngcontent-%COMP%]   .gallery-arrow.end-arrow[_ngcontent-%COMP%]{right:0}.gallery-dialog-content[_ngcontent-%COMP%]   gallery[_ngcontent-%COMP%]{min-width:65vw}.gallery-dialog-content[_ngcontent-%COMP%]     gallery-item gallery-image .g-image-item{background-size:content!important}  gallery-thumbs{margin:0 var(--pep-spacing-lg, 1rem) 0 var(--pep-spacing-sm, .5rem)}  gallery-thumbs gallery-thumb{padding:0!important;border-radius:var(--pep-border-radius-md, .25rem);margin:var(--pep-spacing-sm, .5rem) 0}  gallery-thumbs gallery-thumb .g-image-item{background-size:cover!important}  gallery-item gallery-image .g-image-item{border-radius:var(--pep-border-radius-lg, .5rem)}  gallery-item:hover{cursor:pointer}  gallery-dots{position:absolute!important;border-radius:var(--pep-border-radius-md, .25rem)}  gallery-dots.pepperi-button,   gallery-dots.pep-button{display:flex!important}  .img-container{display:flex;align-items:center}  gallery-nav{display:none}.vertical-gallery[_ngcontent-%COMP%]     gallery-thumbs{margin:var(--pep-spacing-lg, 1rem) 0 var(--pep-spacing-sm, .5rem) 0}.vertical-gallery[_ngcontent-%COMP%]     gallery-thumbs gallery-thumb{margin:0 var(--pep-spacing-sm, .5rem)}","gallery[_ngcontent-%COMP%]{background-color:transparent}  gallery-thumb{box-shadow:var(--pep-shadow-sm-offset, 0 .25rem .5rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.32)}  .g-nav-prev,   .g-nav-next{background:hsla(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%),.5)}  .g-nav-prev:hover,   .g-nav-next:hover{background:hsla(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%),.5);box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.08);cursor:pointer}  .g-nav-prev:focus,   .g-nav-next:focus{background:hsl(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%));box-shadow:0 0 0 var(--pep-spacing-xs, .25rem) hsla(var(--pep-color-text-link-h, 207),var(--pep-color-text-link-s, 76%),var(--pep-color-text-link-l, 37%),.5)}  .g-nav-prev:active,   .g-nav-next:active{background:hsl(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%));box-shadow:var(--pep-shadow-xs-offset, 0 .125rem .25rem 0) hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.16)}  .g-nav-prev:disabled,   .g-nav-next:disabled{box-shadow:unset;border:unset;color:hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.35)!important;background:hsla(var(--pep-color-system-primary-invert-h, 255),var(--pep-color-system-primary-invert-s, 100%),var(--pep-color-system-primary-invert-l, 100%),.08)!important}  .g-nav-prev:disabled:after,   .g-nav-next:disabled:after{border:unset}  .g-nav-prev:disabled .svg-icon,   .g-nav-next:disabled .svg-icon{fill:hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.35)}  .g-nav-prev:disabled .svg-icon.stroke,   .g-nav-next:disabled .svg-icon.stroke{fill:unset;stroke:hsla(var(--pep-color-system-primary-h, 0),var(--pep-color-system-primary-s, 0%),var(--pep-color-system-primary-l, 10%),.35)}  gallery-dots{background:hsla(var(--pep-color-weak-h, 0),var(--pep-color-weak-s, 0%),var(--pep-color-weak-l, 10%),.12)}"]}),n})(),V=(()=>{class n{constructor(t){this.pepIconRegistry=t,this.pepIconRegistry.registerIcons([g.pepIconSystemEdit,g.pepIconSystemClose,g.pepIconArrowRightAlt,g.pepIconArrowLeftAlt])}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(g.PepIconRegistry))},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,h.ReactiveFormsModule,I.MatCommonModule,w.MatFormFieldModule,_.MatDialogModule,P.MatIconModule,s.GalleryModule,p.PepNgxLibModule,v.PepButtonModule,g.PepIconModule,f.PepFieldTitleModule,d.PepDialogModule]}),n})()}}]);