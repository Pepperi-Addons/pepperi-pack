(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([["node_modules_ngx-signaturepad___ivy_ngcc___index_js-_62981","node_modules_ngx-signaturepad___ivy_ngcc___index_js-_62980"],{58318:function(C,x,_){var v=_(60562),g=_(28598);Object.defineProperty(x,"__esModule",{value:!0}),_(60562),_(28598);var t=function(){function e(){}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=v.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=v.\u0275\u0275defineInjector({}),e}();x.SignaturePadModule=t,x.SignaturePad=g.SignaturePad},28598:function(C,x,_){var v=_(60562),g=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},w=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(x,"__esModule",{value:!0});var h=_(60562),D=function(){function t(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new h.EventEmitter,this.onEndEvent=new h.EventEmitter}return t.prototype.ngAfterContentInit=function(){var e=_(35885).Z,n=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(n.height=this.options.canvasHeight),this.options.canvasWidth&&(n.width=this.options.canvasWidth),this.signaturePad=new e(n,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)},t.prototype.resizeCanvas=function(){var e=Math.max(window.devicePixelRatio||1,1),n=this.signaturePad._canvas;n.width=n.offsetWidth*e,n.height=n.offsetHeight*e,n.getContext("2d").scale(e,e),this.signaturePad.clear()},t.prototype.toData=function(){return this.signaturePad.toData()},t.prototype.fromData=function(e){this.signaturePad.fromData(e)},t.prototype.toDataURL=function(e,n){return this.signaturePad.toDataURL(e,n)},t.prototype.fromDataURL=function(e,n){void 0===n&&(n={}),this.signaturePad.fromDataURL(e,n)},t.prototype.clear=function(){this.signaturePad.clear()},t.prototype.isEmpty=function(){return this.signaturePad.isEmpty()},t.prototype.off=function(){this.signaturePad.off()},t.prototype.on=function(){this.signaturePad.on()},t.prototype.set=function(e,n){switch(e){case"canvasHeight":this.signaturePad._canvas.height=n;break;case"canvasWidth":this.signaturePad._canvas.width=n;break;default:this.signaturePad[e]=n}},t.prototype.onBegin=function(){this.onBeginEvent.emit(!0)},t.prototype.onEnd=function(){this.onEndEvent.emit(!0)},t.prototype.queryPad=function(){return this.signaturePad},g([h.Input(),w("design:type",Object)],t.prototype,"options",void 0),g([h.Output(),w("design:type",h.EventEmitter)],t.prototype,"onBeginEvent",void 0),g([h.Output(),w("design:type",h.EventEmitter)],t.prototype,"onEndEvent",void 0),(t=g([w("design:paramtypes",[h.ElementRef])],t)).\u0275fac=function(n){return new(n||t)(v.\u0275\u0275directiveInject(v.ElementRef))},t.\u0275cmp=v.\u0275\u0275defineComponent({type:t,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(n,i){1&n&&v.\u0275\u0275element(0,"canvas")},encapsulation:2}),t}();x.SignaturePad=D},35885:(C,x,_)=>{function v(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function g(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function h(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this._strokeMoveUpdate=this.throttle?function w(t,e,n){var i,o,a,r=null,s=0;n||(n={});var d=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)};return function(){var c=Date.now();!s&&!1===n.leading&&(s=c);var u=e-(c-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):!r&&!1!==n.trailing&&(r=setTimeout(d,u)),a}}(h.prototype._strokeUpdate,this.throttle):h.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(o){1===o.which&&(n._mouseButtonDown=!0,n._strokeBegin(o))},this._handleMouseMove=function(o){n._mouseButtonDown&&n._strokeMoveUpdate(o)},this._handleMouseUp=function(o){1===o.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(o))},this._handleTouchStart=function(o){1===o.targetTouches.length&&n._strokeBegin(o.changedTouches[0])},this._handleTouchMove=function(o){o.preventDefault(),n._strokeMoveUpdate(o.targetTouches[0])},this._handleTouchEnd=function(o){o.target===n._canvas&&(o.preventDefault(),n._strokeEnd(o))},this.on()}_.d(x,{Z:()=>D}),v.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},v.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},v.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},g.prototype.length=function(){for(var e=0,n=void 0,i=void 0,o=0;o<=10;o+=1){var a=o/10,r=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){var d=r-n,c=s-i;e+=Math.sqrt(d*d+c*c)}n=r,i=s}return e},g.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},h.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},h.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/o,r=n.height||this._canvas.height/o;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,a,r)},this._isEmpty=!1},h.prototype.toDataURL=function(t){var e;if("image/svg+xml"===t)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))},h.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},h.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},h.prototype.isEmpty=function(){return this._isEmpty},h.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},h.prototype._strokeUpdate=function(t){var i=this._createPoint(t.clientX,t.clientY),o=this._data[this._data.length-1],a=o&&o[o.length-1],r=a&&i.distanceTo(a)<this.minDistance;if(!a||!r){var s=this._addPoint(i),d=s.curve,c=s.widths;d&&c&&this._drawCurve(d,c.start,c.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},h.prototype._strokeEnd=function(t){var n=this.points[0];if(!(this.points.length>2)&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1];n.equals(i[i.length-1])||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},h.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},h.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},h.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},h.prototype._createPoint=function(t,e,n){var i=this._canvas.getBoundingClientRect();return new v(t-i.left,e-i.top,n||(new Date).getTime())},h.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var i=(n=this._calculateCurveControlPoints(e[0],e[1],e[2])).c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var a=new g(e[1],i,n.c1,e[2]),r=this._calculateCurveWidths(a);return e.shift(),{curve:a,widths:r}}return{}},h.prototype._calculateCurveControlPoints=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,a=e.x-n.x,r=e.y-n.y,s_x=(t.x+e.x)/2,s_y=(t.y+e.y)/2,d_x=(e.x+n.x)/2,d_y=(e.y+n.y)/2,c=Math.sqrt(i*i+o*o),u=Math.sqrt(a*a+r*r),y=u/(c+u),E=e.x-(d_x+(s_x-d_x)*y),b=e.y-(d_y+(s_y-d_y)*y);return{c1:new v(s_x+E,s_y+b),c2:new v(d_x+E,d_y+b)}},h.prototype._calculateCurveWidths=function(t){var i={start:null,end:null},o=this.velocityFilterWeight*t.endPoint.velocityFrom(t.startPoint)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(o);return i.start=this._lastWidth,i.end=a,this._lastVelocity=o,this._lastWidth=a,i},h.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},h.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},h.prototype._drawCurve=function(t,e,n){var i=this._ctx,o=n-e,a=Math.floor(t.length());i.beginPath();for(var r=0;r<a;r+=1){var s=r/a,d=s*s,c=d*s,u=1-s,f=u*u,m=f*u,y=m*t.startPoint.x;y+=3*f*s*t.control1.x,y+=3*u*d*t.control2.x;var p=m*t.startPoint.y;p+=3*f*s*t.control1.y,p+=3*u*d*t.control2.y,this._drawPoint(y+=c*t.endPoint.x,p+=c*t.endPoint.y,e+c*o)}i.closePath(),i.fill()},h.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},h.prototype._fromData=function(t,e,n){for(var i=0;i<t.length;i+=1){var o=t[i];if(o.length>1)for(var a=0;a<o.length;a+=1){var r=o[a],s=new v(r.x,r.y,r.time),d=r.color;if(0===a)this.penColor=d,this._reset(),this._addPoint(s);else if(a!==o.length-1){var c=this._addPoint(s),u=c.curve,f=c.widths;u&&f&&e(u,f,d)}}else this._reset(),n(o[0])}},h.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=n.width/i,s=n.height/i,d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"width",n.width),d.setAttributeNS(null,"height",n.height),this._fromData(e,function(l,P,S){var M=document.createElement("path");if(!(isNaN(l.control1.x)||isNaN(l.control1.y)||isNaN(l.control2.x)||isNaN(l.control2.y))){var T="M "+l.startPoint.x.toFixed(3)+","+l.startPoint.y.toFixed(3)+" C "+l.control1.x.toFixed(3)+","+l.control1.y.toFixed(3)+" "+l.control2.x.toFixed(3)+","+l.control2.y.toFixed(3)+" "+l.endPoint.x.toFixed(3)+","+l.endPoint.y.toFixed(3);M.setAttribute("d",T),M.setAttribute("stroke-width",(2.25*P.end).toFixed(3)),M.setAttribute("stroke",S),M.setAttribute("fill","none"),M.setAttribute("stroke-linecap","round"),d.appendChild(M)}},function(l){var P=document.createElement("circle"),S="function"==typeof t.dotSize?t.dotSize():t.dotSize;P.setAttribute("r",S),P.setAttribute("cx",l.x),P.setAttribute("cy",l.y),P.setAttribute("fill",l.color),d.appendChild(P)});var u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+s+'" width="'+r+'" height="'+s+'">',f=d.innerHTML;if(void 0===f){var m=document.createElement("dummy"),y=d.childNodes;m.innerHTML="";for(var p=0;p<y.length;p+=1)m.appendChild(y[p].cloneNode(!0));f=m.innerHTML}return"data:image/svg+xml;base64,"+btoa(u+f+"</svg>")},h.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,i){return e._drawCurve(n,i.start,i.end)},function(n){return e._drawDot(n)}),this._data=t},h.prototype.toData=function(){return this._data};const D=h}}]);